<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.296">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Data documentation with R and Quarto - 3&nbsp; General information on data documentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./intro-r-rstudio.html" rel="next">
<link href="./intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script src="site_libs/kePrint-0.0.1/kePrint.js"></script><link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
<meta property="og:title" content="Data documentation with R and Quarto - 3&nbsp; General information on data documentation">
<meta property="og:description" content="">
<meta property="og:image" content="images/Wissik_Durco_2015_Figure5.PNG">
<meta property="og:site-name" content="Data documentation with R and Quarto">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./index.html">Preface and Introduction</a></li><li class="breadcrumb-item"><a href="./gen-info.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">General information on data documentation</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data documentation with R and Quarto</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/RiegerSven/data-doc-workshop-2023" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Preface and Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preperation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Welcome to the workshops</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gen-info.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">General information on data documentation</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Software</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-r-rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introduction to R &amp; RStudio</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">A not so short introduction to Quarto</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Working with data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./imp-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Import data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Data cleaning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-proc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Data transformation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./item-analy-descr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Descriptive statistics and item analysis</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#what-is-data-documentation" id="toc-what-is-data-documentation" class="nav-link active" data-scroll-target="#what-is-data-documentation"><span class="header-section-number">3.1</span> What is data documentation?</a></li>
  <li><a href="#who-uses-data-documentation" id="toc-who-uses-data-documentation" class="nav-link" data-scroll-target="#who-uses-data-documentation"><span class="header-section-number">3.2</span> Who uses data documentation?</a></li>
  <li><a href="#how-is-data-documentation-structured" id="toc-how-is-data-documentation-structured" class="nav-link" data-scroll-target="#how-is-data-documentation-structured"><span class="header-section-number">3.3</span> How is data documentation structured?</a></li>
  <li>
<a href="#procedure-of-data-documentation" id="toc-procedure-of-data-documentation" class="nav-link" data-scroll-target="#procedure-of-data-documentation"><span class="header-section-number">3.4</span> Procedure of data documentation</a>
  <ul>
<li><a href="#basis" id="toc-basis" class="nav-link" data-scroll-target="#basis"><span class="header-section-number">3.4.1</span> Basis</a></li>
  <li><a href="#order" id="toc-order" class="nav-link" data-scroll-target="#order"><span class="header-section-number">3.4.2</span> Order</a></li>
  <li><a href="#template" id="toc-template" class="nav-link" data-scroll-target="#template"><span class="header-section-number">3.4.3</span> Template</a></li>
  <li>
<a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions"><span class="header-section-number">3.4.4</span> Functions</a>
  <ul class="collapse">
<li><a href="#table-for-variable-overview-not-finished" id="toc-table-for-variable-overview-not-finished" class="nav-link" data-scroll-target="#table-for-variable-overview-not-finished"><span class="header-section-number">3.4.4.1</span> Table for variable overview (not finished)</a></li>
  <li><a href="#continuous-variables" id="toc-continuous-variables" class="nav-link" data-scroll-target="#continuous-variables"><span class="header-section-number">3.4.4.2</span> Continuous variables</a></li>
  <li><a href="#categorical-variables" id="toc-categorical-variables" class="nav-link" data-scroll-target="#categorical-variables"><span class="header-section-number">3.4.4.3</span> Categorical variables</a></li>
  <li><a href="#scale-score" id="toc-scale-score" class="nav-link" data-scroll-target="#scale-score"><span class="header-section-number">3.4.4.4</span> Scale score</a></li>
  <li><a href="#clean-character-variables" id="toc-clean-character-variables" class="nav-link" data-scroll-target="#clean-character-variables"><span class="header-section-number">3.4.4.5</span> Clean character variables</a></li>
  </ul>
</li>
  </ul>
</li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/RiegerSven/data-doc-workshop-2023/edit/main/gen-info.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/RiegerSven/data-doc-workshop-2023/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">
<span class="chapter-number">3</span>&nbsp; <span class="chapter-title">General information on data documentation</span>
</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>We currently discussing some changes to data documentation.</p>
</div>
</div>
<section id="what-is-data-documentation" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="what-is-data-documentation">
<span class="header-section-number">3.1</span> What is data documentation?</h2>
<ul>
<li>Data documentation is a central part of data management<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> in general and is part of the <a href="https://www.dfg.de/en/research_funding/principles_dfg_funding/good_scientific_practice/">DFG Guidelines</a> for safeguarding good scientific research practice (code of conduct)
<ul>
<li>Guideline 12: <a href="https://wissenschaftliche-integritaet.de/en/code-of-conduct/documentation/">Documentation</a> (for more see below)</li>
</ul>
</li>
</ul>
<div class="callout callout-style-simple callout-note callout-titled" title="Guideline 12: Documentation">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Guideline 12: Documentation
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p>Researchers document all information relevant to the production of a research result as clearly as is required by and is appropriate for the relevant subject area to allow the result to be reviewed and assessed. In general, this also includes documenting individual results that do not support the research hypothesis. The selection of results must be avoided. Where subject-specific recommendations exist for review and assessment, researchers create documentation in accordance with these guidelines. If the documentation does not satisfy these requirements, the constraints and the reasons for them are clearly explained. Documentation and research results must not be manipulated; they are protected as effectively as possible against manipulation.</p>
</blockquote>
<p><strong>Explanations:</strong></p>
<blockquote class="blockquote">
<p>An important basis for enabling replication is to make available the information necessary to understand the research (including the research data used or generated, the methodological, evaluation and analytical steps taken, and, if relevant, the development of the hypothesis), to ensure that citations are clear, and, as far as possible, to enable third parties to access this information. Where research software is being developed, the source code is documented.</p>
</blockquote>
</div>
</div>
</div>
<ul>
<li>Data documentation is a continuous process and it should start at the beginning (see e.g., <a href="#fig-research-management">Figure&nbsp;<span>3.1</span></a>) of each project that collects (any kind of) data</li>
</ul>
<div id="fig-research-management" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="images/Wissik_Durco_2015_Figure5.PNG" class="quarto-discovered-preview-image img-fluid figure-img" style="width:90.0%"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;3.1: Proposed institutional research data management workflow by <span class="citation" data-cites="Wissik2015">Wissik &amp; Ďurčo (<a href="references.html#ref-Wissik2015" role="doc-biblioref">2015</a>)</span></figcaption><p></p>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the following, we restrict the term data documentation to the documentation of a single data set.</p>
</div>
</div>
</section><section id="who-uses-data-documentation" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="who-uses-data-documentation">
<span class="header-section-number">3.2</span> Who uses data documentation?</h2>
<p>Everybody who works with the data set(s). It serves as a guidance, especially for people who did not collect the data themselves.</p>
</section><section id="how-is-data-documentation-structured" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="how-is-data-documentation-structured">
<span class="header-section-number">3.3</span> How is data documentation structured?</h2>
<p>Data documentation include several parts:</p>
<ol type="1">
<li><p>General information on the data set and the usage of it</p></li>
<li><p>Documentation of the survey process</p></li>
<li>
<p>Information about the variables (e.g., demographic variables), (achievement) tests, items and scales</p>
<ul>
<li>Scale level</li>
<li>Item wording</li>
<li>Descriptive Statistics (e.g., <span class="math inline">\(N, M, SD,Min, Max,...\)</span>; for more see <a href="#item-analy-descr.qmd">below</a>)</li>
<li>Cross-references to other studies</li>
<li>Sources</li>
</ul>
</li>
<li><p>Bibliography</p></li>
</ol>
<p>An example of a table of conents of a so-called <em>“Skalenhandbuch”</em> can be seen in <a href="#fig-example-scale-manual">Figure&nbsp;<span>3.2</span></a>.</p>
<div id="fig-example-scale-manual" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><embed src="images/TOSCA-scale-manual-example.pdf" style="width:80.0%;height:5in"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;3.2: Example of table of conents of a scale manual</figcaption><p></p>
</figure>
</div>
</section><section id="procedure-of-data-documentation" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="procedure-of-data-documentation">
<span class="header-section-number">3.4</span> Procedure of data documentation</h2>
<div class="callout callout-style-simple callout-tip callout-titled" title="Tip: Data management (ger only)">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip: Data management (ger only)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Recommendations for data management (e.g., planning, generation, preparation &amp; analyses, and publications)</p>
<div id="fig-data-manage" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><embed src="RatSWD (2023) - FDM-kleine Projekte.pdf" style="width:80.0%;height:5in"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;3.3: Forschungsdatenmanagement in kleinen Forschungsprojekten</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
<section id="basis" class="level3" data-number="3.4.1"><h3 data-number="3.4.1" class="anchored" data-anchor-id="basis">
<span class="header-section-number">3.4.1</span> Basis</h3>
<p>The basis of data documentation are the:</p>
<ul>
<li><p>codebooks &amp; questionnaires</p></li>
<li><p>the (final) data sets</p></li>
</ul>
<p>To get an overview, you should start with carefully reviewing these sources and think about a meaningful structure and order.</p>
<div class="callout callout-style-simple callout-tip callout-titled" title="Tip: How to design codebooks?">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip: How to design codebooks?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>You can find some information at the <a href="https://datawizkb.leibniz-psychology.org/index.php/during-data-collection/what-should-i-know-about-codebooks/">https://datawizkb.leibniz-psychology.org</a> website.</p>
</div>
</div>
</div>
</section><section id="order" class="level3" data-number="3.4.2"><h3 data-number="3.4.2" class="anchored" data-anchor-id="order">
<span class="header-section-number">3.4.2</span> Order</h3>
<ul>
<li>
<p>It is advisable to group the variables according to their content. In the following example variable clusters are listed:</p>
<ul>
<li>Socio-demographic variables (e.g., age, sex, family background, income, household, …)</li>
<li>Tests (e.g., school achievement tests, tests on cognitive ability)</li>
<li>Psycho-social variables (e.g., Self-concepts, motivation, personality)</li>
<li>…</li>
</ul>
</li>
<li><p>Also, related scales should be reported together within a respective variable cluster (e.g., math, English and German self-concept scales)</p></li>
<li><p>Discuss the concrete order of the variables with your supervisor</p></li>
<li><p>Names of variables, items and scales <strong>must be identical</strong> across codebooks, questionaires, and data sets</p></li>
</ul></section><section id="template" class="level3" data-number="3.4.3"><h3 data-number="3.4.3" class="anchored" data-anchor-id="template">
<span class="header-section-number">3.4.3</span> Template</h3>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>You should always use a template! You can find it/them on the network drive L, too.</p>
</div>
</div>
<p>There are two options:</p>
<ol type="1">
<li><p>Calculate the required statistics and transfer the values into one of the millions word templates (not recommended)</p></li>
<li>
<p>Use the <code>Quarto</code> <a href="template-scale-manual.qmd">template</a> (recommended)</p>
<ul>
<li>for now the template generates <em>only</em> html<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> documents</li>
</ul>
</li>
</ol></section><section id="functions" class="level3" data-number="3.4.4"><h3 data-number="3.4.4" class="anchored" data-anchor-id="functions">
<span class="header-section-number">3.4.4</span> Functions</h3>
<p>The following functions were written to make your job a little bit easier.</p>
<ul>
<li><p>If you know what you are doing, feel free to change or adjust them.</p></li>
<li><p>If you need more or other functions, please write us an <a href="mailto:sven.rieger@uni-tuebingen.de">email</a>.</p></li>
</ul>
<style type="text/css">
caption, .table-caption {
  text-align: left;
}
</style>
<style type="text/css">
.table-hover > tbody > tr:hover { 
  background-color: #d3d3d3;
}
</style>
<section id="table-for-variable-overview-not-finished" class="level4" data-number="3.4.4.1"><h4 data-number="3.4.4.1" class="anchored" data-anchor-id="table-for-variable-overview-not-finished">
<span class="header-section-number">3.4.4.1</span> Table for variable overview (not finished)</h4>
<!-- add recoded items -->
<p>The <code>varOverview</code> function translates the general information into a table and has the following arguments:</p>
<ul>
<li>
<code>name</code>: Name of the variable</li>
<li>
<code>type</code>: Input is a <code>character</code>: Either <code>variable</code> or <code>scale</code>
</li>
<li>
<code>itemword</code>: Requires a named <code>list</code> as input. Should contain the names and wording of the items.</li>
<li>
<code>questionaire</code>: Input is a <code>character</code>: Which questionnaire?</li>
<li>
<code>prompt</code>: Input is a <code>character</code>. Wording of the question,</li>
<li>
<code>response</code>: Input is a <code>character</code>. Response format.</li>
<li>
<code>cross</code>: Input is a <code>character</code>. Cross-reference to other studies.</li>
<li>
<code>source</code>: Input is a <code>character</code>. Potential reference.</li>
<li>
<code>note</code>: Input is a <code>character</code>. Room for additional notes.</li>
</ul>
<div class="cell">
<details><summary>Show/hide function</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">varOverview</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span> <span class="va">name</span>,</span>
<span>                          <span class="va">type</span> <span class="op">=</span> <span class="st">"variable"</span>,</span>
<span>                          <span class="va">itemword</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                          <span class="va">questionaire</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                          <span class="va">prompt</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                          <span class="va">response</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                          <span class="va">cross</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                          <span class="va">source</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                          <span class="va">note</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"variable"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">namDes</span> <span class="op">&lt;-</span> <span class="st">"Name of variable:"</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"scale"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">namDes</span> <span class="op">&lt;-</span> <span class="st">"Name of scale:"</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"scale"</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">itemword</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"please provide the itemwording of the items"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> </span>
<span>  </span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">itemword</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="kw">if</span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">itemword</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"please provide a named list as input: e.g., list(item1 = c('I like apples.'"</span><span class="op">)</span></span>
<span>      </span>
<span>      </span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      </span>
<span>      <span class="va">itemLab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">itemword</span><span class="op">)</span></span>
<span>      <span class="va">itemword</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">itemword</span><span class="op">)</span></span>
<span>      </span>
<span>      <span class="op">}</span></span>
<span>    </span>
<span>    </span>
<span>    </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">itemLab</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>    <span class="va">itemword</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">questionaire</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">questLab</span> <span class="op">&lt;-</span> <span class="st">"Questionaire:"</span></span>
<span>    <span class="va">questionaire</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">questionaire</span>, collapse <span class="op">=</span> <span class="st">"; "</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">questLab</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">prompt</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">promptLab</span> <span class="op">&lt;-</span> <span class="st">"Prompt in Questionaire:"</span></span>
<span>    <span class="va">prompt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">prompt</span>, collapse <span class="op">=</span> <span class="st">":"</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">promptLab</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">response</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">responseLab</span> <span class="op">&lt;-</span> <span class="st">"Response format:"</span></span>
<span>    <span class="va">response</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">response</span>, collapse <span class="op">=</span> <span class="st">"; "</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">responseLab</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">cross</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">crossLab</span> <span class="op">&lt;-</span> <span class="st">"Cross reference:"</span></span>
<span>    <span class="va">cross</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">cross</span>, collapse <span class="op">=</span> <span class="st">"; "</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">crossLab</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">source</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">sourceLab</span> <span class="op">&lt;-</span> <span class="st">"Source:"</span></span>
<span>    <span class="va">source</span> <span class="op">&lt;-</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/asis_output.html">asis_output</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">source</span>, collapse <span class="op">=</span> <span class="st">"; "</span><span class="op">)</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">sourceLab</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">note</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="co">#generalTitel &lt;- "Note:"</span></span>
<span>    <span class="va">noteLab</span> <span class="op">&lt;-</span> <span class="st">"Note:"</span></span>
<span>    <span class="va">note</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">note</span>, collapse <span class="op">=</span> <span class="st">"; "</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="co">#generalTitel &lt;- ""</span></span>
<span>    <span class="va">noteLab</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="va">tempTab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>    <span class="st">"Col1"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">namDes</span>,</span>
<span>               <span class="va">questLab</span>,</span>
<span>               <span class="va">promptLab</span>,</span>
<span>               <span class="va">responseLab</span>,</span>
<span>               <span class="va">crossLab</span>,</span>
<span>               <span class="va">sourceLab</span>,</span>
<span>               <span class="va">noteLab</span>,</span>
<span>               <span class="st">""</span>,</span>
<span>               <span class="va">itemLab</span><span class="op">)</span>,</span>
<span>    <span class="st">"Col2"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">name</span>,</span>
<span>               <span class="va">questionaire</span>,</span>
<span>               <span class="va">prompt</span>,</span>
<span>               <span class="va">response</span>,</span>
<span>               <span class="va">cross</span>,</span>
<span>               <span class="va">source</span>,</span>
<span>               <span class="va">note</span>,</span>
<span>               <span class="st">""</span>,</span>
<span>               <span class="va">itemword</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span><span class="va">tempTab</span>,</span>
<span>               col.names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>               align <span class="op">=</span> <span class="st">"l"</span></span>
<span>               ,booktabs <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>               <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span></span>
<span>      full_width <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"hover"</span>, <span class="st">"responsive"</span><span class="op">)</span></span>
<span>      , latex_options <span class="op">=</span> <span class="st">"HOLD_position"</span></span>
<span>      <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/column_spec.html">column_spec</a></span><span class="op">(</span>column <span class="op">=</span> <span class="fl">1</span>, width <span class="op">=</span> <span class="st">"12em"</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>An example execution.</p>
<div class="cell">
<details open=""><summary>Show/hide code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">varOverview</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"gender"</span>,</span>
<span>            prompt <span class="op">=</span> <span class="st">"The question in the questionaire..."</span>,</span>
<span>            response <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0 = male"</span>,</span>
<span>                         <span class="st">"1 = female"</span>,</span>
<span>                         <span class="st">"2 = divers"</span><span class="op">)</span>,</span>
<span>            cross <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A study"</span>, <span class="st">"Another study"</span><span class="op">)</span>,</span>
<span>            source <span class="op">=</span> <span class="st">"@Kunter2002"</span>,</span>
<span>            note <span class="op">=</span> <span class="st">"Here is room for some notes"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-demo-table-function" class="anchored">
<div class="table-responsive">
<table class="table table-hover table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table&nbsp;3.1: Variable: gender</caption>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 12em;">Name of variable:</td>
<td style="text-align: left;">gender</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">Prompt in Questionaire:</td>
<td style="text-align: left;">The question in the questionaire...</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">Response format:</td>
<td style="text-align: left;">0 = male; 1 = female; 2 = divers</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">Cross reference:</td>
<td style="text-align: left;">A study; Another study</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">Source:</td>
<td style="text-align: left;">@Kunter2002</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">Note:</td>
<td style="text-align: left;">Here is room for some notes</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
</div>


</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The reference is not rendered correctly. This is a known bug: see here: <a href="https://github.com/quarto-dev/quarto-cli/issues/3340" class="uri">https://github.com/quarto-dev/quarto-cli/issues/3340</a> and will be hopefully solved in the next release.</p>
</div>
</div>
</section><section id="continuous-variables" class="level4" data-number="3.4.4.2"><h4 data-number="3.4.4.2" class="anchored" data-anchor-id="continuous-variables">
<span class="header-section-number">3.4.4.2</span> Continuous variables</h4>
<p>The <code>contVar</code> function is based on the <code>describe</code> function from the <code>psych</code> package <span class="citation" data-cites="R-psych">(<a href="references.html#ref-R-psych" role="doc-biblioref">Revelle, 2023</a>)</span> and has the following arguments:</p>
<ul>
<li>
<code>variable</code>: This should be a character or a character vector (name of variable)</li>
<li>
<code>data</code>: The data frame</li>
<li>
<code>which.stat</code>: Which statistics should be calculated? Default is: <code>N</code>, <code>Mean</code>, <code>SD</code>, <code>Min</code>, <code>Max</code>. Because the function is based on the <code>describe</code> function from <code>psych</code> package, you can also request: <code>trimmed mean</code>, <code>median</code>, <code>mad</code>, <code>skew</code>, <code>kurtosis</code>, <code>standard error</code>.</li>
<li>
<code>table</code>: logical. Default is <code>TRUE</code>. Then the output is printed as a table using the <code>kbl</code> function from the <code>kableExtra</code> package <span class="citation" data-cites="R-kableExtra">(<a href="references.html#ref-R-kableExtra" role="doc-biblioref">Zhu, 2021</a>)</span>. If set to false, the output is printed as a <code>data.frame</code>.</li>
</ul>
<div class="cell">
<details><summary>Show/hide function</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">contVar</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span> <span class="va">variable</span>,</span>
<span>                      <span class="va">data</span>,</span>
<span>                      <span class="va">which.stat</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"N"</span>,</span>
<span>                                     <span class="st">"Mean"</span>, <span class="st">"SD"</span>,</span>
<span>                                     <span class="st">"Min"</span>, <span class="st">"Max"</span><span class="op">)</span>,</span>
<span>                      <span class="va">table</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  </span>
<span>  </span>
<span>  <span class="co"># calculate descriptives</span></span>
<span>  <span class="va">tempDescr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span></span>
<span>    <span class="fu">psych</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/psych/man/describe.html">describe</a></span><span class="op">(</span></span>
<span>      <span class="va">data</span><span class="op">[</span>,<span class="va">variable</span><span class="op">]</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span><span class="op">(</span><span class="va">which.stat</span><span class="op">)</span><span class="op">]</span></span>
<span>  </span>
<span>  <span class="va">tempDescr</span><span class="op">$</span><span class="va">varNam</span> <span class="op">&lt;-</span> <span class="va">variable</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">tempDescr</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="co"># calculate missing in %</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">variable</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">missDF</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="va">variable</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">missDF</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colMeans</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="va">variable</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">missDF</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"miss"</span></span>
<span>  </span>
<span>  <span class="va">tempDescr</span><span class="op">$</span><span class="va">miss</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="va">missDF</span><span class="op">$</span><span class="va">miss</span>,</span>
<span>            fmt <span class="op">=</span> <span class="st">'%#.1f'</span><span class="op">)</span>,</span>
<span>    <span class="st">"%"</span><span class="op">)</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span> <span class="va">table</span> <span class="op">==</span> <span class="cn">TRUE</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">tempTab</span> <span class="op">&lt;-</span> <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">tempDescr</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"varNam"</span>,</span>
<span>                       <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span><span class="op">(</span><span class="va">which.stat</span><span class="op">)</span>,</span>
<span>                       <span class="st">"miss"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>      col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Variable"</span>, <span class="va">which.stat</span>, <span class="st">"Miss."</span><span class="op">)</span>,</span>
<span>      row.names <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>      digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>      align <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"l"</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"c"</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">which.stat</span><span class="op">)</span><span class="op">)</span>, <span class="st">"c"</span><span class="op">)</span></span>
<span>      ,booktabs <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>      <span class="co">#,format = "html"</span></span>
<span>      <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span></span>
<span>        full_width <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"hover"</span>, <span class="st">"responsive"</span><span class="op">)</span></span>
<span>        ,latex_options <span class="op">=</span> <span class="st">"HOLD_position"</span></span>
<span>        <span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">tempOut</span> <span class="op">&lt;-</span> <span class="va">tempTab</span></span>
<span>    <span class="va">tempOut</span></span>
<span>    </span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      </span>
<span>    <span class="va">tempOut</span> <span class="op">&lt;-</span> <span class="va">tempDescr</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"varNam"</span>,</span>
<span>                            <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span><span class="op">(</span><span class="va">which.stat</span><span class="op">)</span>,</span>
<span>                            <span class="st">"miss"</span><span class="op">)</span><span class="op">]</span></span>
<span>    </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">tempOut</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>An example execution.</p>
<div>
<details open=""><summary>Show/hide code</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">varOverview</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>            type <span class="op">=</span> <span class="st">"variable"</span>,</span>
<span>            questionaire <span class="op">=</span> <span class="st">"Student"</span>,</span>
<span>            prompt <span class="op">=</span> <span class="st">"How old are you?"</span>,</span>
<span>            response <span class="op">=</span> <span class="st">"open"</span>,</span>
<span>            cross <span class="op">=</span> <span class="st">"not applicable"</span>,</span>
<span>            source <span class="op">=</span> <span class="st">"not applicable"</span>,</span>
<span>            note <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="fu">contVar</span><span class="op">(</span>variable <span class="op">=</span> <span class="st">"age"</span>, data <span class="op">=</span> <span class="va">exDat</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-demo-contVar-function" class="cell tbl-parent quarto-layout-panel anchored">
<div class="panel-caption table-caption">
<p>Table&nbsp;3.2: Variable: age</p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="tbl-demo-contVar-function-1" class="quarto-layout-cell quarto-layout-cell-subref anchored" data-ref-parent="tbl-demo-contVar-function" style="flex-basis: 100.0%;justify-content: center;">
<div class="table-responsive">
<table class="table table-hover table-sm table-striped small" data-quarto-postprocess="true">
<caption>(a) Overview</caption>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 12em;">Name of variable:</td>
<td style="text-align: left;">age</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">Questionaire:</td>
<td style="text-align: left;">Student</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">Prompt in Questionaire:</td>
<td style="text-align: left;">How old are you?</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">Response format:</td>
<td style="text-align: left;">open</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">Cross reference:</td>
<td style="text-align: left;">not applicable</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">Source:</td>
<td style="text-align: left;">not applicable</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">Note:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">


</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="tbl-demo-contVar-function-2" class="quarto-layout-cell quarto-layout-cell-subref anchored" data-ref-parent="tbl-demo-contVar-function" style="flex-basis: 100.0%;justify-content: center;">
<div class="table-responsive">
<table class="table table-hover table-sm table-striped small" data-quarto-postprocess="true">
<caption>(b) Calculated statistics</caption>
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Variable</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">N</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Mean</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">SD</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Min</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Max</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Miss.</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: left;">age</td>
<td style="text-align: center;">670</td>
<td style="text-align: center;">10.03</td>
<td style="text-align: center;">1.76</td>
<td style="text-align: center;">5.44</td>
<td style="text-align: center;">30</td>
<td style="text-align: center;">10.7%</td>
</tr></tbody>
</table>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">


</div>
</div>
</div>
</div>
</section><section id="categorical-variables" class="level4" data-number="3.4.4.3"><h4 data-number="3.4.4.3" class="anchored" data-anchor-id="categorical-variables">
<span class="header-section-number">3.4.4.3</span> Categorical variables</h4>
<p>The <code>catVar</code> function is based on the <code>table</code> function from R <span class="citation" data-cites="R-base">(<a href="references.html#ref-R-base" role="doc-biblioref">R Core Team, 2023</a>)</span> and has the following arguments:</p>
<ul>
<li>
<code>variable</code>: This should be a character or a character vector (name of variable)</li>
<li>
<code>data</code>: The data frame</li>
<li>
<code>table</code>: logical. Default is <code>TRUE</code>. Then the output is printed as a table using the <code>kbl</code> function from the <code>kableExtra</code> package <span class="citation" data-cites="R-kableExtra">(<a href="references.html#ref-R-kableExtra" role="doc-biblioref">Zhu, 2021</a>)</span>. If set to false, the output is printed as a <code>data.frame</code>.</li>
</ul>
<div class="cell">
<details><summary>Show/hide function</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">catVar</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span> <span class="va">variable</span>,</span>
<span>                     <span class="va">data</span>,</span>
<span>                     <span class="va">table</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  </span>
<span>  <span class="co"># calculate freq. as function</span></span>
<span>  <span class="va">calcFreq</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span> <span class="va">variable</span>, <span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>    <span class="co"># calc abs and rel freq.</span></span>
<span>    <span class="va">tempFreq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span> abs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="va">variable</span><span class="op">]</span>,</span>
<span>                                        useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">tempFreq</span><span class="op">$</span><span class="va">rel</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="va">variable</span><span class="op">]</span>,</span>
<span>                          useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="va">variable</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span></span>
<span>    </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">tempFreq</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"var"</span>,</span>
<span>                            <span class="st">"Absolute"</span>,</span>
<span>                            <span class="st">"Relative"</span><span class="op">)</span></span>
<span>  </span>
<span>    <span class="co"># calculate sum</span></span>
<span>    <span class="va">tempFreq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">tempFreq</span>,</span>
<span>                      <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>var <span class="op">=</span> <span class="st">"Sum"</span>,</span>
<span>                                 <span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colSums</a></span><span class="op">(</span><span class="va">tempFreq</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">tempFreq</span><span class="op">$</span><span class="va">var</span><span class="op">)</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>                      <span class="op">)</span></span>
<span>    </span>
<span>  </span>
<span>    <span class="co"># cosmetics</span></span>
<span>    </span>
<span>    <span class="va">tempFreq</span><span class="op">$</span><span class="va">Relative</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="va">tempFreq</span><span class="op">$</span><span class="va">Relative</span>,</span>
<span>              fmt <span class="op">=</span> <span class="st">'%#.1f'</span><span class="op">)</span>,</span>
<span>      <span class="st">"%"</span><span class="op">)</span></span>
<span>  </span>
<span>    <span class="va">tempTab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">tempFreq</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">tempTab</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">tempFreq</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">tempTab</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">tempTab</span><span class="op">)</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Miss"</span></span>
<span>    </span>
<span>    <span class="va">tempTab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">tempTab</span><span class="op">)</span>,</span>
<span>               <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">tempTab</span><span class="op">[</span><span class="fl">1</span>,<span class="va">x</span><span class="op">]</span>,</span>
<span>                                  <span class="st">" ("</span>,</span>
<span>                                  <span class="va">tempTab</span><span class="op">[</span><span class="fl">2</span>,<span class="va">x</span><span class="op">]</span>, <span class="st">")"</span><span class="op">)</span>,</span>
<span>               simplify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>      </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">tempTab</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  </span>
<span>  <span class="va">tempFreq</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/rbindlist.html">rbindlist</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">variable</span>,</span>
<span>           <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> </span>
<span>             <span class="fu">calcFreq</span><span class="op">(</span>variable <span class="op">=</span> <span class="va">x</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span>,</span>
<span>           simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    idcol <span class="op">=</span> <span class="st">"Variable"</span>, use.names <span class="op">=</span> <span class="cn">T</span>, fill <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># get colnames to sort</span></span>
<span>  <span class="va">colToSort</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Variable"</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">tempFreq</span><span class="op">)</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">tempFreq</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> </span>
<span>                                                  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Variable"</span>,</span>
<span>                                                    <span class="st">"Miss"</span>,</span>
<span>                                                    <span class="st">"Sum"</span></span>
<span>                                                    <span class="co">#"Sum (miss)"</span></span>
<span>                                                    <span class="op">)</span><span class="op">]</span>,</span>
<span>                 <span class="st">"Sum"</span>,</span>
<span>                 <span class="st">"Miss"</span></span>
<span>                 <span class="co">#"Sum (miss)",</span></span>
<span>                 <span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">tempFreq</span> <span class="op">&lt;-</span> <span class="va">tempFreq</span><span class="op">[</span>,<span class="va">..colToSort</span><span class="op">]</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span> <span class="va">table</span> <span class="op">==</span> <span class="cn">TRUE</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">tempTab</span> <span class="op">&lt;-</span> <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">tempFreq</span>,</span>
<span>      align <span class="op">=</span> <span class="st">"c"</span></span>
<span>      <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span></span>
<span>        full_width <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"hover"</span>, <span class="st">"responsive"</span><span class="op">)</span></span>
<span>        <span class="co">#,latex_options = "HOLD_position"</span></span>
<span>        <span class="op">)</span> </span>
<span>    </span>
<span>    <span class="va">tempOut</span> <span class="op">&lt;-</span> <span class="va">tempTab</span></span>
<span>    <span class="va">tempOut</span></span>
<span>    </span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">tempOut</span> <span class="op">&lt;-</span> <span class="va">tempFreq</span><span class="op">[</span>,<span class="va">..colToSort</span><span class="op">]</span></span>
<span>      </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">tempOut</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>An example execution.</p>
<div>
<details open=""><summary>Show/hide code</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">varOverview</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"edu"</span>,</span>
<span>            type <span class="op">=</span> <span class="st">"variable"</span>,</span>
<span>            questionaire <span class="op">=</span> <span class="st">"Parent"</span>,</span>
<span>            prompt <span class="op">=</span> <span class="st">"Welchen Schulabschluss haben Sie? Bitte geben Sie *nur* Ihren höchsten Abschluss an."</span>,</span>
<span>            response <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>              <span class="st">"0 = Kein Schulabschluss"</span>,</span>
<span>              <span class="st">"1 = Abschluss einer Sonderschule/Foerderschule"</span>,</span>
<span>              <span class="st">"2 = einer Polytechnischen Oberschule nach der 8. Klasse"</span>, </span>
<span>              <span class="st">"3 = Hauptschulabschluss/ Volksschulabschluss"</span>,</span>
<span>              <span class="st">"4 = ..."</span><span class="op">)</span>,</span>
<span>            cross <span class="op">=</span> <span class="st">"NEPS"</span>,</span>
<span>            source <span class="op">=</span> <span class="st">"@Kunter2002"</span>,</span>
<span>            note <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="fu">catVar</span><span class="op">(</span>variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"edu"</span><span class="op">)</span>,</span>
<span>       data <span class="op">=</span> <span class="va">exDat</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-edu" class="cell tbl-parent quarto-layout-panel anchored">
<div class="panel-caption table-caption">
<p>Table&nbsp;3.3: Variable: Education</p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="tbl-edu-1" class="quarto-layout-cell quarto-layout-cell-subref anchored" data-ref-parent="tbl-edu" style="flex-basis: 100.0%;justify-content: center;">
<div class="table-responsive">
<table class="table table-hover table-sm table-striped small" data-quarto-postprocess="true">
<caption>(a) Overview</caption>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 12em;">Name of variable:</td>
<td style="text-align: left;">edu</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">Questionaire:</td>
<td style="text-align: left;">Parent</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">Prompt in Questionaire:</td>
<td style="text-align: left;">Welchen Schulabschluss haben Sie? Bitte geben Sie *nur* Ihren höchsten Abschluss an.</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">Response format:</td>
<td style="text-align: left;">0 = Kein Schulabschluss; 1 = Abschluss einer Sonderschule/Foerderschule; 2 = einer Polytechnischen Oberschule nach der 8. Klasse; 3 = Hauptschulabschluss/ Volksschulabschluss; 4 = ...</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">Cross reference:</td>
<td style="text-align: left;">NEPS</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">Source:</td>
<td style="text-align: left;">@Kunter2002</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">Note:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">


</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="tbl-edu-2" class="quarto-layout-cell quarto-layout-cell-subref anchored" data-ref-parent="tbl-edu" style="flex-basis: 100.0%;justify-content: center;">
<div class="table-responsive">
<table class="table table-hover table-sm table-striped small" data-quarto-postprocess="true">
<caption>(b) Calculated statistics</caption>
<thead><tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Variable</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">0</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">1</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">2</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">3</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">4</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Sum</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Miss</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: center;">edu</td>
<td style="text-align: center;">50 (6.7%)</td>
<td style="text-align: center;">100 (13.3%)</td>
<td style="text-align: center;">150 (20.0%)</td>
<td style="text-align: center;">200 (26.7%)</td>
<td style="text-align: center;">250 (33.3%)</td>
<td style="text-align: center;">750 (100.0%)</td>
<td style="text-align: center;">0 (0.0%)</td>
</tr></tbody>
</table>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">


</div>
</div>
</div>
</div>
</section><section id="scale-score" class="level4" data-number="3.4.4.4"><h4 data-number="3.4.4.4" class="anchored" data-anchor-id="scale-score">
<span class="header-section-number">3.4.4.4</span> Scale score</h4>
<p>The <code>scaleScore</code> function is based on the <code>alpha</code> function from the <code>psych</code> package <span class="citation" data-cites="R-psych">(<a href="references.html#ref-R-psych" role="doc-biblioref">Revelle, 2023</a>)</span> and has the following arguments:</p>
<ul>
<li>
<code>items</code>: This should be a character vector (name of items) or a named list</li>
<li>
<code>data</code>: The data frame</li>
<li>
<code>recItems</code>: Numeric vector of the reversed worded items.</li>
<li>
<code>recode</code>: logical. Default is <code>FALSE</code>. If <code>TRUE</code> the items in <code>recItems</code> will be recoded.</li>
<li>
<code>which.stat</code>: Which statistics should be calculated? Default is: <code>N</code>, <code>Mean</code>, <code>SD</code>, <code>Min</code>, <code>Max</code>. Because the function is based on the <code>describe</code> function from <code>psych</code> package, you can also request: <code>trimmed mean</code>, <code>median</code>, <code>mad</code>, <code>skew</code>, <code>kurtosis</code>, <code>standard error</code>.</li>
<li>
<code>table</code>: logical. Default is <code>TRUE</code>. Then the output is printed as a table using the <code>kbl</code> function from the <code>kableExtra</code> package <span class="citation" data-cites="R-kableExtra">(<a href="references.html#ref-R-kableExtra" role="doc-biblioref">Zhu, 2021</a>)</span>. If set to false, the scale score (and if requested the recoded items) are returned.</li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>The scale score is built based on only valid items (i.e., <code>na.rm = FALSE</code> argument of the <code>rowSums</code> function). This means if one item has missing value, no score is computed.</p>
</div>
</div>
<div class="cell">
<details><summary>Show/hide function</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">scaleScore</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span> <span class="va">items</span>,</span>
<span>                         <span class="va">scaleNameShort</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                         <span class="va">recItems</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                         <span class="va">recode</span> <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                         <span class="va">data</span>,</span>
<span>                         <span class="va">which.stat</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"N"</span>,</span>
<span>                                        <span class="st">"Mean"</span>, <span class="st">"SD"</span>,</span>
<span>                                        <span class="st">"Min"</span>, <span class="st">"Max"</span><span class="op">)</span>,</span>
<span>                         <span class="va">table</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># name check</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">scaleNameShort</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"please provide the short name of the scale (variable name)"</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="co"># recode check </span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">recItems</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">recode</span> <span class="op">==</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/warning.html">warning</a></span><span class="op">(</span><span class="st">"Are the items already recoded?\nIf not, you may use the recode argument."</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">items</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">items</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="co"># recode if necessary</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span> <span class="va">recode</span> <span class="op">==</span> <span class="cn">T</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">data</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">items</span><span class="op">[</span><span class="va">recItems</span><span class="op">]</span>,<span class="st">"r"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span></span>
<span>      <span class="va">items</span><span class="op">[</span><span class="va">recItems</span><span class="op">]</span>,</span>
<span>      <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">tempRec</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="va">x</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="va">x</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">-</span> <span class="va">data</span><span class="op">[</span>,<span class="va">x</span><span class="op">]</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">tempRec</span><span class="op">)</span></span>
<span>      <span class="op">}</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">items</span><span class="op">[</span><span class="va">recItems</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">items</span><span class="op">[</span><span class="va">recItems</span><span class="op">]</span>,<span class="st">"r"</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="co"># compute sumscore</span></span>
<span>  <span class="va">data</span><span class="op">[</span>,<span class="va">scaleNameShort</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="va">items</span><span class="op">]</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">items</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># calculate descriptives</span></span>
<span>  <span class="va">tempDescr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span></span>
<span>    <span class="fu">psych</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/psych/man/describe.html">describe</a></span><span class="op">(</span></span>
<span>      <span class="va">data</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">items</span>,<span class="va">scaleNameShort</span><span class="op">)</span><span class="op">]</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span><span class="op">(</span><span class="va">which.stat</span><span class="op">)</span><span class="op">]</span></span>
<span>  </span>
<span>  <span class="co"># calculate missing in %</span></span>
<span>  <span class="va">missDF</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colMeans</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">items</span>,<span class="va">scaleNameShort</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">missDF</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"miss"</span></span>
<span>  </span>
<span>  <span class="va">missDF</span><span class="op">$</span><span class="va">miss</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="va">missDF</span><span class="op">$</span><span class="va">miss</span>,</span>
<span>            fmt <span class="op">=</span> <span class="st">'%#.1f'</span><span class="op">)</span>,</span>
<span>    <span class="st">"%"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># calculate alpha et al</span></span>
<span>  <span class="va">tempAlpha</span> <span class="op">&lt;-</span> <span class="fu">psych</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/psych/man/alpha.html">alpha</a></span><span class="op">(</span></span>
<span>    <span class="va">data</span><span class="op">[</span>,<span class="va">items</span><span class="op">]</span></span>
<span>    <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># extract r.cor &amp; r.drop</span></span>
<span>  <span class="va">rcordrop</span> <span class="op">&lt;-</span> <span class="va">tempAlpha</span><span class="op">$</span><span class="va">item.stats</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"r.cor"</span>, <span class="st">"r.drop"</span><span class="op">)</span><span class="op">]</span></span>
<span>  <span class="va">alpha</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">tempAlpha</span><span class="op">$</span><span class="va">total</span><span class="op">$</span><span class="va">raw_alpha</span>,<span class="fl">3</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># merge dataframes</span></span>
<span>  <span class="va">tempTab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">tempDescr</span>, <span class="va">missDF</span>, by <span class="op">=</span> <span class="fl">0</span>, sort <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">tempTab</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">tempTab</span><span class="op">$</span><span class="va">Row.names</span></span>
<span>  <span class="va">tempTab</span><span class="op">$</span><span class="va">Row.names</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>  </span>
<span>  <span class="va">tempTab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">tempTab</span>, <span class="va">rcordrop</span>, by <span class="op">=</span> <span class="fl">0</span>, all.x <span class="op">=</span> <span class="cn">T</span>, sort <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">tempTab</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>  </span>
<span>  <span class="co"># make tables</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span> <span class="va">table</span> <span class="op">==</span> <span class="cn">TRUE</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">tempScaleTab</span> <span class="op">&lt;-</span> <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">tempTab</span>,</span>
<span>      col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Item"</span>, <span class="va">which.stat</span>, <span class="st">"Missing"</span>, <span class="st">"$r_{it}$"</span>, <span class="st">"$r_{drop}$"</span><span class="op">)</span>,</span>
<span>      digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>      align <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"l"</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"c"</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">which.stat</span><span class="op">)</span><span class="op">)</span>, <span class="st">"c"</span>, <span class="st">"c"</span>, <span class="st">"c"</span><span class="op">)</span>,</span>
<span>      booktabs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      format <span class="op">=</span> <span class="st">"html"</span>,</span>
<span>      escape <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>      <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span></span>
<span>        full_width <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"hover"</span>, <span class="st">"responsive"</span><span class="op">)</span></span>
<span>        <span class="co">#,latex_options = "HOLD_position"</span></span>
<span>        <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/footnote.html">footnote</a></span><span class="op">(</span>general_title <span class="op">=</span> <span class="st">"Cronbachs $\\\\alpha$ = "</span>,</span>
<span>                           general <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">alpha</span><span class="op">)</span>,</span>
<span>                           footnote_as_chunk <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                           threeparttable <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/row_spec.html">row_spec</a></span><span class="op">(</span>row <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tempTab</span><span class="op">)</span>,</span>
<span>                           background <span class="op">=</span> <span class="st">"#d3d3d3"</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">tempOut</span> <span class="op">&lt;-</span> <span class="va">tempScaleTab</span></span>
<span>    <span class="va">tempOut</span></span>
<span>    </span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      </span>
<span>      <span class="va">tempOut</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">items</span><span class="op">[</span><span class="va">recItems</span><span class="op">]</span>, <span class="va">scaleNameShort</span><span class="op">)</span><span class="op">]</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">tempTab</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">tempOut</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>An example execution.</p>
<ol type="1">
<li>Before executing the function, we create a named list. Item 3 and 4 are reversed worded items.</li>
</ol>
<div class="cell">
<details open=""><summary>Show/hide code</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mscItems</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"msc1"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Ich bin gut in Mathematik."</span><span class="op">)</span>,</span>
<span>                 <span class="st">"msc2"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Ich war in Mathematik immer gut."</span><span class="op">)</span>,</span>
<span>                 <span class="st">"msc3"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Ich habe Verständnisschwierigkeiten bei allem, für das man Mathematik braucht."</span><span class="op">)</span>,</span>
<span>                 <span class="st">"msc4"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Ich bin bei Aufgaben, die mathematisches Denken</span></span>
<span><span class="st">erfordern, nie gut."</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol start="2" type="1">
<li>Then we execute the two functions. because the items 3 and 4 are not recoded in the data set, we have to pass the information to the <code>scaleScore</code> function.</li>
</ol>
<div>
<details open=""><summary>Show/hide code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">varOverview</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Math Self-concept"</span>,</span>
<span>            type <span class="op">=</span> <span class="st">"scale"</span>,</span>
<span>            itemword <span class="op">=</span> <span class="va">mscItems</span>,</span>
<span>            prompt <span class="op">=</span> <span class="st">"Wie sehr treffen die folgenden Aussagen auf Sie zu?"</span>,</span>
<span>            response <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1 = trifft überhaupt nicht zu"</span>,</span>
<span>                        <span class="st">"2 = trifft eher nicht zu"</span>,</span>
<span>                        <span class="st">"3 = trifft eher zu"</span>,</span>
<span>                        <span class="st">"4 = trifft völlig zu"</span><span class="op">)</span>,</span>
<span>           cross <span class="op">=</span> <span class="st">"TOSCA-R"</span>,</span>
<span>           source <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="fu">scaleScore</span><span class="op">(</span>items <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">mscItems</span><span class="op">)</span>,</span>
<span>           scaleNameShort <span class="op">=</span> <span class="st">"msc"</span>,</span>
<span>           recItems <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>,</span>
<span>           recode <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>           data <span class="op">=</span> <span class="va">exDat</span>,</span>
<span>           table <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-msc" class="cell tbl-parent quarto-layout-panel anchored">
<div class="panel-caption table-caption">
<p>Table&nbsp;3.4: Variable Math Self-concept</p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="tbl-msc-1" class="quarto-layout-cell quarto-layout-cell-subref anchored" data-ref-parent="tbl-msc" style="flex-basis: 100.0%;justify-content: center;">
<div class="table-responsive">
<table class="table table-hover table-sm table-striped small" data-quarto-postprocess="true">
<caption>(a) Overview</caption>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 12em;">Name of scale:</td>
<td style="text-align: left;">Math Self-concept</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">Prompt in Questionaire:</td>
<td style="text-align: left;">Wie sehr treffen die folgenden Aussagen auf Sie zu?</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">Response format:</td>
<td style="text-align: left;">1 = trifft überhaupt nicht zu; 2 = trifft eher nicht zu; 3 = trifft eher zu; 4 = trifft völlig zu</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">Cross reference:</td>
<td style="text-align: left;">TOSCA-R</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">Source:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">msc1</td>
<td style="text-align: left;">Ich bin gut in Mathematik.</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">msc2</td>
<td style="text-align: left;">Ich war in Mathematik immer gut.</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 12em;">msc3</td>
<td style="text-align: left;">Ich habe Verständnisschwierigkeiten bei allem, für das man Mathematik braucht.</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 12em;">msc4</td>
<td style="text-align: left;">Ich bin bei Aufgaben, die mathematisches Denken erfordern, nie gut.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">


</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="tbl-msc-2" class="quarto-layout-cell quarto-layout-cell-subref anchored" data-ref-parent="tbl-msc" style="flex-basis: 100.0%;justify-content: center;">
<div class="table-responsive">
<table class="table table-hover table-sm table-striped small" data-quarto-postprocess="true">
<caption>(b) Calculated statistics</caption>
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Item</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">N</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Mean</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">SD</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Min</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Max</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Missing</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">$r_{it}$</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">$r_{drop}$</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">msc1</td>
<td style="text-align: center;">750</td>
<td style="text-align: center;">2.52</td>
<td style="text-align: center;">0.74</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">0.0%</td>
<td style="text-align: center;">0.72</td>
<td style="text-align: center;">0.67</td>
</tr>
<tr class="even">
<td style="text-align: left;">msc2</td>
<td style="text-align: center;">680</td>
<td style="text-align: center;">2.54</td>
<td style="text-align: center;">0.72</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">9.3%</td>
<td style="text-align: center;">0.67</td>
<td style="text-align: center;">0.62</td>
</tr>
<tr class="odd">
<td style="text-align: left;">msc3r</td>
<td style="text-align: center;">750</td>
<td style="text-align: center;">2.51</td>
<td style="text-align: center;">0.75</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">0.0%</td>
<td style="text-align: center;">0.82</td>
<td style="text-align: center;">0.74</td>
</tr>
<tr class="even">
<td style="text-align: left;">msc4r</td>
<td style="text-align: center;">750</td>
<td style="text-align: center;">2.52</td>
<td style="text-align: center;">0.75</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">0.0%</td>
<td style="text-align: center;">0.80</td>
<td style="text-align: center;">0.73</td>
</tr>
<tr class="odd">
<td style="text-align: left; background-color: #d3d3d3 !important;">msc</td>
<td style="text-align: center; background-color: #d3d3d3 !important;">680</td>
<td style="text-align: center; background-color: #d3d3d3 !important;">2.53</td>
<td style="text-align: center; background-color: #d3d3d3 !important;">0.61</td>
<td style="text-align: center; background-color: #d3d3d3 !important;">1</td>
<td style="text-align: center; background-color: #d3d3d3 !important;">4</td>
<td style="text-align: center; background-color: #d3d3d3 !important;">9.3%</td>
<td style="text-align: center; background-color: #d3d3d3 !important;">NA</td>
<td style="text-align: center; background-color: #d3d3d3 !important;">NA</td>
</tr>
</tbody>
<tfoot><tr class="even">
<td style="text-align: left; padding: 0;">
<span style="font-style: italic;">Cronbachs $\\alpha$ = </span> <sup></sup> 0.851</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr></tfoot>
</table>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">


</div>
</div>
</div>
</div>
</section><section id="clean-character-variables" class="level4" data-number="3.4.4.5"><h4 data-number="3.4.4.5" class="anchored" data-anchor-id="clean-character-variables">
<span class="header-section-number">3.4.4.5</span> Clean character variables</h4>
<p>The <code>cleanStr</code> function is designed to clean strings and has the following arguments:</p>
<ul>
<li>
<code>stringToClean</code>: This should be a character.</li>
<li>
<code>pattern</code>: The pattern which should be replaced. Can be character vector.</li>
<li>
<code>replacement</code>: The replacement. A character with length = 1.</li>
<li>
<code>replaceNA</code>: logical. Should <code>NA</code>s be replaced?</li>
<li>
<code>replaceNAval</code>: If <code>replaceNA</code> == <code>TRUE</code>. The replacement of <code>NA</code> values. Default is: <code>"Unknown"</code>
</li>
<li>
<code>as.fac</code>: logical. Output of the function (<code>character</code> or <code>factor</code>) Default is <code>FALSE</code>.</li>
<li>
<code>print</code>: logical.</li>
</ul>
<div class="cell">
<details><summary>Show/hide function</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cleanStr</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span> <span class="va">stringToClean</span>, <span class="va">pattern</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">replacement</span> <span class="op">=</span> <span class="st">"Unknown"</span>,</span>
<span>                       <span class="va">replaceNA</span> <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                       <span class="va">replaceNAval</span> <span class="op">=</span> <span class="st">"Unknown"</span>,</span>
<span>                       <span class="va">as.fac</span> <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                       <span class="va">print</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">replacement</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">replaceNAval</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"Values can only be replaced by one value. length &gt; 1"</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">is.character</a></span><span class="op">(</span><span class="va">stringToClean</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"input is no character"</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      </span>
<span>    <span class="va">outStr</span> <span class="op">&lt;-</span> <span class="va">stringToClean</span></span>
<span>    </span>
<span>    <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span> <span class="va">replaceNA</span> <span class="op">==</span> <span class="cn">TRUE</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">outStr</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">outStr</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">replaceNAval</span></span>
<span>    <span class="va">missMess</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Missing values (NA) are replaced with: '"</span>, <span class="va">replaceNAval</span>, <span class="st">"'"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">missMess</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="va">outStr</span><span class="op">[</span><span class="va">outStr</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">pattern</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">replacement</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">print</span> <span class="op">==</span> <span class="cn">TRUE</span> <span class="op">)</span> <span class="op">{</span></span>
<span>   </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html">message</a></span><span class="op">(</span><span class="st">"Input\n"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">stringToClean</span>, useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span> <span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html">message</a></span><span class="op">(</span><span class="st">"Output\n"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">outStr</span>, useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span> <span class="op">)</span></span>
<span>    </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html">message</a></span><span class="op">(</span><span class="st">"\nThis is what happened:"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"The following pattern(s): "</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">pattern</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span>,</span>
<span>        <span class="st">"\nwas/were replaced with: "</span>,</span>
<span>        <span class="va">replacement</span><span class="op">)</span>, <span class="st">"\n\n"</span>,</span>
<span>        <span class="va">missMess</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="op">}</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span> <span class="va">as.fac</span> <span class="op">==</span> <span class="cn">FALSE</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">outStr</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">outFac</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">outStr</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">outFac</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" data-line-spacing="2" role="list" style="display: none">
<div id="ref-R-base" class="csl-entry" role="listitem">
R Core Team. (2023). <em>R: A language and environment for statistical computing</em>. R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>
</div>
<div id="ref-R-psych" class="csl-entry" role="listitem">
Revelle, W. (2023). <em>Psych: Procedures for psychological, psychometric, and personality research</em>. <a href="https://personality-project.org/r/psych/%0D%0Ahttps://personality-project.org/r/psych-manual.pdf">https://personality-project.org/r/psych/ https://personality-project.org/r/psych-manual.pdf</a>
</div>
<div id="ref-Wissik2015" class="csl-entry" role="listitem">
Wissik, T., &amp; Ďurčo, M. (2015). <em>Research data workflows: From research data lifecycle models to institutional solutions</em>. <a href="http://www.ep.liu.se/ecp/123/008/ecp15123008.pdf">http://www.ep.liu.se/ecp/123/008/ecp15123008.pdf</a>
</div>
<div id="ref-R-kableExtra" class="csl-entry" role="listitem">
Zhu, H. (2021). <em>kableExtra: Construct complex table with kable and pipe syntax</em>. <a href="https://CRAN.R-project.org/package=kableExtra">https://CRAN.R-project.org/package=kableExtra</a>
</div>
</div>
</section></section></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>see also here: <a href="https://www.forschungsdaten-bildung.de/daten-managen?la=en">https://www.forschungsdaten-bildung.de/</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>This is (mainly) because there are some issues with the <code>kableExtra</code> package <span class="citation" data-cites="R-kableExtra">(<a href="references.html#ref-R-kableExtra" role="doc-biblioref">Zhu, 2021</a>)</span> and <code>latex</code> implementation (i.e., <code>format: pdf</code>) in <code>Quarto</code>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Welcome to the workshops</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./intro-r-rstudio.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introduction to R &amp; RStudio</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb11" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># General information on data documentation</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>::: {.callout-important}</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>We currently discussing some changes to data documentation.</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="fu">## What is data documentation?</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Data documentation is a central part of data management^<span class="co">[</span><span class="ot">see also here: [https://www.forschungsdaten-bildung.de/](https://www.forschungsdaten-bildung.de/daten-managen?la=en)</span><span class="co">]</span> in general and is part of the <span class="co">[</span><span class="ot">DFG Guidelines</span><span class="co">](https://www.dfg.de/en/research_funding/principles_dfg_funding/good_scientific_practice/)</span> for safeguarding good scientific research</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>practice (code of conduct)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Guideline 12: <span class="co">[</span><span class="ot">Documentation</span><span class="co">](https://wissenschaftliche-integritaet.de/en/code-of-conduct/documentation/)</span> (for more see below)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>::: {.callout-note appearance="simple" collapse="true" title="Guideline 12: Documentation"}</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; Researchers document all information relevant to the production of a research result as clearly as is required by and is appropriate for the relevant subject area to allow the result to be reviewed and assessed. In general, this also includes documenting individual results that do not support the research</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="at">hypothesis. The selection of results must be avoided. Where subject-specific recommendations exist for review and assessment, researchers create documentation in accordance with these guidelines.</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="at">If the documentation does not satisfy these requirements, the constraints and the reasons for them are clearly explained. Documentation and research results must not be manipulated; they are</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="at">protected as effectively as possible against manipulation.</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>**Explanations:**</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; An important basis for enabling replication is to make available the information necessary to understand the research (including the research data used or generated, the methodological, evaluation and analytical steps taken, and, if relevant, the development of the hypothesis), to ensure that citations are clear, and, as far as possible, to enable third parties to access this information. Where research software is being developed, the source code is documented. </span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Data documentation is a continuous process and it should start at the beginning (see e.g., @fig-research-management) of each project that collects (any kind of) data</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a><span class="al">![Proposed institutional research data management workflow by @Wissik2015](images/Wissik_Durco_2015_Figure5.PNG)</span>{#fig-research-management width="90%"}</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>::: {.callout-note}</span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>In the following, we restrict the term data documentation to the documentation of a single data set.</span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a><span class="fu">## Who uses data documentation? </span></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>Everybody who works with the data set(s). It serves as a guidance, especially for people who did not collect the data themselves. </span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a><span class="fu">## How is data documentation structured? </span></span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a>Data documentation include several parts:</span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>General information on the data set and the usage of it</span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Documentation of the survey process</span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Information about the variables (e.g., demographic variables), (achievement) tests, items and scales</span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Scale level</span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Item wording</span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Descriptive Statistics (e.g., $N, M, SD,Min, Max,...$; for more see <span class="co">[</span><span class="ot">below</span><span class="co">](#item-analy-descr.qmd)</span>)</span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Cross-references to other studies</span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Sources</span>
<span id="cb11-63"><a href="#cb11-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-64"><a href="#cb11-64" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Bibliography</span>
<span id="cb11-65"><a href="#cb11-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-66"><a href="#cb11-66" aria-hidden="true" tabindex="-1"></a>An example of a table of conents of a so-called *"Skalenhandbuch"* can be seen in @fig-example-scale-manual.</span>
<span id="cb11-67"><a href="#cb11-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-68"><a href="#cb11-68" aria-hidden="true" tabindex="-1"></a><span class="al">![Example of table of conents of a scale manual](images/TOSCA-scale-manual-example.pdf)</span>{#fig-example-scale-manual width=80% height=5in}</span>
<span id="cb11-69"><a href="#cb11-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-70"><a href="#cb11-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-71"><a href="#cb11-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-72"><a href="#cb11-72" aria-hidden="true" tabindex="-1"></a><span class="fu">## Procedure of data documentation</span></span>
<span id="cb11-73"><a href="#cb11-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-74"><a href="#cb11-74" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse="true" appearance="simple" title="Tip: Data management (ger only)"}</span>
<span id="cb11-75"><a href="#cb11-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-76"><a href="#cb11-76" aria-hidden="true" tabindex="-1"></a>Recommendations for data management (e.g., planning, generation, preparation &amp; analyses, and publications)</span>
<span id="cb11-77"><a href="#cb11-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-78"><a href="#cb11-78" aria-hidden="true" tabindex="-1"></a>!<span class="co">[</span><span class="ot">Forschungsdatenmanagement in kleinen Forschungsprojekten</span><span class="co">]</span>(RatSWD (2023) - FDM-kleine Projekte.pdf){#fig-data-manage width=80% height=5in}</span>
<span id="cb11-79"><a href="#cb11-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-80"><a href="#cb11-80" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-81"><a href="#cb11-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-82"><a href="#cb11-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-83"><a href="#cb11-83" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basis</span></span>
<span id="cb11-84"><a href="#cb11-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-85"><a href="#cb11-85" aria-hidden="true" tabindex="-1"></a>The basis of data documentation are the:</span>
<span id="cb11-86"><a href="#cb11-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-87"><a href="#cb11-87" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>codebooks &amp; questionnaires </span>
<span id="cb11-88"><a href="#cb11-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-89"><a href="#cb11-89" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>the (final) data sets </span>
<span id="cb11-90"><a href="#cb11-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-91"><a href="#cb11-91" aria-hidden="true" tabindex="-1"></a>To get an overview, you should start with carefully reviewing these sources and think about a meaningful structure and order. </span>
<span id="cb11-92"><a href="#cb11-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-93"><a href="#cb11-93" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip appearance="simple" collapse="false" title="Tip: How to design codebooks?"}</span>
<span id="cb11-94"><a href="#cb11-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-95"><a href="#cb11-95" aria-hidden="true" tabindex="-1"></a>You can find some information at the <span class="co">[</span><span class="ot">https://datawizkb.leibniz-psychology.org</span><span class="co">](https://datawizkb.leibniz-psychology.org/index.php/during-data-collection/what-should-i-know-about-codebooks/)</span> website. </span>
<span id="cb11-96"><a href="#cb11-96" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-97"><a href="#cb11-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-98"><a href="#cb11-98" aria-hidden="true" tabindex="-1"></a><span class="fu">### Order</span></span>
<span id="cb11-99"><a href="#cb11-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-100"><a href="#cb11-100" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>It is advisable to group the variables according to their content. In the following example variable clusters are listed:</span>
<span id="cb11-101"><a href="#cb11-101" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Socio-demographic variables (e.g., age, sex, family background, income, household, ...)</span>
<span id="cb11-102"><a href="#cb11-102" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Tests (e.g., school achievement tests, tests on cognitive ability)</span>
<span id="cb11-103"><a href="#cb11-103" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Psycho-social variables (e.g., Self-concepts, motivation, personality)</span>
<span id="cb11-104"><a href="#cb11-104" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>... </span>
<span id="cb11-105"><a href="#cb11-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-106"><a href="#cb11-106" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Also, related scales should be reported together within a respective variable cluster (e.g., math, English and German self-concept scales) </span>
<span id="cb11-107"><a href="#cb11-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-108"><a href="#cb11-108" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Discuss the concrete order of the variables with your supervisor</span>
<span id="cb11-109"><a href="#cb11-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-110"><a href="#cb11-110" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Names of variables, items and scales **must be identical** across codebooks, questionaires, and data sets</span>
<span id="cb11-111"><a href="#cb11-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-112"><a href="#cb11-112" aria-hidden="true" tabindex="-1"></a><span class="fu">### Template {#template}</span></span>
<span id="cb11-113"><a href="#cb11-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-114"><a href="#cb11-114" aria-hidden="true" tabindex="-1"></a>::: {.callout-important}</span>
<span id="cb11-115"><a href="#cb11-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-116"><a href="#cb11-116" aria-hidden="true" tabindex="-1"></a>You should always use a template! You can find it/them on the network drive L, too.</span>
<span id="cb11-117"><a href="#cb11-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-118"><a href="#cb11-118" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-119"><a href="#cb11-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-120"><a href="#cb11-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-121"><a href="#cb11-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-122"><a href="#cb11-122" aria-hidden="true" tabindex="-1"></a>There are two options:</span>
<span id="cb11-123"><a href="#cb11-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-124"><a href="#cb11-124" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Calculate the required statistics and transfer the values into one of the millions word templates (not recommended)</span>
<span id="cb11-125"><a href="#cb11-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-126"><a href="#cb11-126" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Use the <span class="in">`Quarto`</span> <span class="co">[</span><span class="ot">template</span><span class="co">](template-scale-manual.qmd)</span> (recommended)</span>
<span id="cb11-127"><a href="#cb11-127" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>for now the template generates *only* html^<span class="co">[</span><span class="ot">This is (mainly) because there are some issues with the `kableExtra` package [@R-kableExtra] and `latex` implementation  (i.e., `format: pdf`) in `Quarto`.</span><span class="co">]</span> documents </span>
<span id="cb11-128"><a href="#cb11-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-129"><a href="#cb11-129" aria-hidden="true" tabindex="-1"></a><span class="fu">### Functions {#functions}</span></span>
<span id="cb11-130"><a href="#cb11-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-133"><a href="#cb11-133" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-134"><a href="#cb11-134" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: read-exampleDat</span></span>
<span id="cb11-135"><a href="#cb11-135" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-136"><a href="#cb11-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-137"><a href="#cb11-137" aria-hidden="true" tabindex="-1"></a>exDat <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"exampleDat.RDS"</span>)</span>
<span id="cb11-138"><a href="#cb11-138" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-139"><a href="#cb11-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-140"><a href="#cb11-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-141"><a href="#cb11-141" aria-hidden="true" tabindex="-1"></a>The following functions were written to make your job a little bit easier. </span>
<span id="cb11-142"><a href="#cb11-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-143"><a href="#cb11-143" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If you know what you are doing, feel free to change or adjust them. </span>
<span id="cb11-144"><a href="#cb11-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-145"><a href="#cb11-145" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If you need more or other functions, please write us an <span class="co">[</span><span class="ot">email</span><span class="co">](mailto:sven.rieger@uni-tuebingen.de)</span>.</span>
<span id="cb11-146"><a href="#cb11-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-147"><a href="#cb11-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-148"><a href="#cb11-148" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb11-149"><a href="#cb11-149" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;style type="text/css"&gt;</span></span>
<span id="cb11-150"><a href="#cb11-150" aria-hidden="true" tabindex="-1"></a><span class="in">caption, .table-caption {</span></span>
<span id="cb11-151"><a href="#cb11-151" aria-hidden="true" tabindex="-1"></a><span class="in">  text-align: left;</span></span>
<span id="cb11-152"><a href="#cb11-152" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb11-153"><a href="#cb11-153" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb11-154"><a href="#cb11-154" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-155"><a href="#cb11-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-156"><a href="#cb11-156" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb11-157"><a href="#cb11-157" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;style type="text/css"&gt;</span></span>
<span id="cb11-158"><a href="#cb11-158" aria-hidden="true" tabindex="-1"></a><span class="in">.table-hover &gt; tbody &gt; tr:hover { </span></span>
<span id="cb11-159"><a href="#cb11-159" aria-hidden="true" tabindex="-1"></a><span class="in">  background-color: #d3d3d3;</span></span>
<span id="cb11-160"><a href="#cb11-160" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb11-161"><a href="#cb11-161" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb11-162"><a href="#cb11-162" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-163"><a href="#cb11-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-164"><a href="#cb11-164" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Table for variable overview (not finished)</span></span>
<span id="cb11-165"><a href="#cb11-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-166"><a href="#cb11-166" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- add recoded items --&gt;</span></span>
<span id="cb11-167"><a href="#cb11-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-168"><a href="#cb11-168" aria-hidden="true" tabindex="-1"></a>The <span class="in">`varOverview`</span> function translates the general information into a table and has the following arguments:</span>
<span id="cb11-169"><a href="#cb11-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-170"><a href="#cb11-170" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`name`</span>: Name of the variable</span>
<span id="cb11-171"><a href="#cb11-171" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`type`</span>: Input is a <span class="in">`character`</span>: Either <span class="in">`variable`</span> or <span class="in">`scale`</span></span>
<span id="cb11-172"><a href="#cb11-172" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`itemword`</span>: Requires a named <span class="in">`list`</span> as input. Should contain the names and wording of the items.</span>
<span id="cb11-173"><a href="#cb11-173" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`questionaire`</span>: Input is a <span class="in">`character`</span>: Which questionnaire? </span>
<span id="cb11-174"><a href="#cb11-174" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`prompt`</span>: Input is a <span class="in">`character`</span>. Wording of the question,</span>
<span id="cb11-175"><a href="#cb11-175" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`response`</span>: Input is a <span class="in">`character`</span>. Response format.</span>
<span id="cb11-176"><a href="#cb11-176" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`cross`</span>: Input is a <span class="in">`character`</span>. Cross-reference to other studies.</span>
<span id="cb11-177"><a href="#cb11-177" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`source`</span>: Input is a <span class="in">`character`</span>. Potential reference.</span>
<span id="cb11-178"><a href="#cb11-178" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`note`</span>: Input is a <span class="in">`character`</span>. Room for additional notes.</span>
<span id="cb11-179"><a href="#cb11-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-182"><a href="#cb11-182" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-183"><a href="#cb11-183" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: table-function</span></span>
<span id="cb11-184"><a href="#cb11-184" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb11-185"><a href="#cb11-185" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show/hide function"</span></span>
<span id="cb11-186"><a href="#cb11-186" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb11-187"><a href="#cb11-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-188"><a href="#cb11-188" aria-hidden="true" tabindex="-1"></a>varOverview <span class="ot">&lt;-</span> <span class="cf">function</span> ( name,</span>
<span id="cb11-189"><a href="#cb11-189" aria-hidden="true" tabindex="-1"></a>                          <span class="at">type =</span> <span class="st">"variable"</span>,</span>
<span id="cb11-190"><a href="#cb11-190" aria-hidden="true" tabindex="-1"></a>                          <span class="at">itemword =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-191"><a href="#cb11-191" aria-hidden="true" tabindex="-1"></a>                          <span class="at">questionaire =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-192"><a href="#cb11-192" aria-hidden="true" tabindex="-1"></a>                          <span class="at">prompt =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-193"><a href="#cb11-193" aria-hidden="true" tabindex="-1"></a>                          <span class="at">response =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-194"><a href="#cb11-194" aria-hidden="true" tabindex="-1"></a>                          <span class="at">cross =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-195"><a href="#cb11-195" aria-hidden="true" tabindex="-1"></a>                          <span class="at">source =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-196"><a href="#cb11-196" aria-hidden="true" tabindex="-1"></a>                          <span class="at">note =</span> <span class="cn">NULL</span>) {</span>
<span id="cb11-197"><a href="#cb11-197" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-198"><a href="#cb11-198" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (type <span class="sc">==</span> <span class="st">"variable"</span>) {</span>
<span id="cb11-199"><a href="#cb11-199" aria-hidden="true" tabindex="-1"></a>    namDes <span class="ot">&lt;-</span> <span class="st">"Name of variable:"</span></span>
<span id="cb11-200"><a href="#cb11-200" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-201"><a href="#cb11-201" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-202"><a href="#cb11-202" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (type <span class="sc">==</span> <span class="st">"scale"</span>) {</span>
<span id="cb11-203"><a href="#cb11-203" aria-hidden="true" tabindex="-1"></a>    namDes <span class="ot">&lt;-</span> <span class="st">"Name of scale:"</span></span>
<span id="cb11-204"><a href="#cb11-204" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-205"><a href="#cb11-205" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-206"><a href="#cb11-206" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (type <span class="sc">==</span> <span class="st">"scale"</span> <span class="sc">&amp;</span> <span class="fu">is.null</span>(itemword) ) {</span>
<span id="cb11-207"><a href="#cb11-207" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"please provide the itemwording of the items"</span>)</span>
<span id="cb11-208"><a href="#cb11-208" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb11-209"><a href="#cb11-209" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-210"><a href="#cb11-210" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.null</span>(itemword)) {</span>
<span id="cb11-211"><a href="#cb11-211" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-212"><a href="#cb11-212" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> ( <span class="fu">is.null</span>(<span class="fu">names</span>(itemword)) ) {</span>
<span id="cb11-213"><a href="#cb11-213" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">"please provide a named list as input: e.g., list(item1 = c('I like apples.'"</span>)</span>
<span id="cb11-214"><a href="#cb11-214" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-215"><a href="#cb11-215" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-216"><a href="#cb11-216" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb11-217"><a href="#cb11-217" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-218"><a href="#cb11-218" aria-hidden="true" tabindex="-1"></a>      itemLab <span class="ot">&lt;-</span> <span class="fu">names</span>(itemword)</span>
<span id="cb11-219"><a href="#cb11-219" aria-hidden="true" tabindex="-1"></a>      itemword <span class="ot">&lt;-</span> <span class="fu">unlist</span>(itemword)</span>
<span id="cb11-220"><a href="#cb11-220" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-221"><a href="#cb11-221" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb11-222"><a href="#cb11-222" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-223"><a href="#cb11-223" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-224"><a href="#cb11-224" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-225"><a href="#cb11-225" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb11-226"><a href="#cb11-226" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-227"><a href="#cb11-227" aria-hidden="true" tabindex="-1"></a>    itemLab <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-228"><a href="#cb11-228" aria-hidden="true" tabindex="-1"></a>    itemword <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-229"><a href="#cb11-229" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-230"><a href="#cb11-230" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-231"><a href="#cb11-231" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-232"><a href="#cb11-232" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-233"><a href="#cb11-233" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(questionaire)) {</span>
<span id="cb11-234"><a href="#cb11-234" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-235"><a href="#cb11-235" aria-hidden="true" tabindex="-1"></a>    questLab <span class="ot">&lt;-</span> <span class="st">"Questionaire:"</span></span>
<span id="cb11-236"><a href="#cb11-236" aria-hidden="true" tabindex="-1"></a>    questionaire <span class="ot">&lt;-</span> <span class="fu">paste0</span>(questionaire, <span class="at">collapse =</span> <span class="st">"; "</span>)</span>
<span id="cb11-237"><a href="#cb11-237" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-238"><a href="#cb11-238" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb11-239"><a href="#cb11-239" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-240"><a href="#cb11-240" aria-hidden="true" tabindex="-1"></a>    questLab <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-241"><a href="#cb11-241" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-242"><a href="#cb11-242" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-243"><a href="#cb11-243" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-244"><a href="#cb11-244" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(prompt)) {</span>
<span id="cb11-245"><a href="#cb11-245" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-246"><a href="#cb11-246" aria-hidden="true" tabindex="-1"></a>    promptLab <span class="ot">&lt;-</span> <span class="st">"Prompt in Questionaire:"</span></span>
<span id="cb11-247"><a href="#cb11-247" aria-hidden="true" tabindex="-1"></a>    prompt <span class="ot">&lt;-</span> <span class="fu">paste0</span>(prompt, <span class="at">collapse =</span> <span class="st">":"</span>)</span>
<span id="cb11-248"><a href="#cb11-248" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-249"><a href="#cb11-249" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb11-250"><a href="#cb11-250" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-251"><a href="#cb11-251" aria-hidden="true" tabindex="-1"></a>    promptLab <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-252"><a href="#cb11-252" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-253"><a href="#cb11-253" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-254"><a href="#cb11-254" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-255"><a href="#cb11-255" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(response)) {</span>
<span id="cb11-256"><a href="#cb11-256" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-257"><a href="#cb11-257" aria-hidden="true" tabindex="-1"></a>    responseLab <span class="ot">&lt;-</span> <span class="st">"Response format:"</span></span>
<span id="cb11-258"><a href="#cb11-258" aria-hidden="true" tabindex="-1"></a>    response <span class="ot">&lt;-</span> <span class="fu">paste0</span>(response, <span class="at">collapse =</span> <span class="st">"; "</span>)</span>
<span id="cb11-259"><a href="#cb11-259" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-260"><a href="#cb11-260" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb11-261"><a href="#cb11-261" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-262"><a href="#cb11-262" aria-hidden="true" tabindex="-1"></a>    responseLab <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-263"><a href="#cb11-263" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-264"><a href="#cb11-264" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-265"><a href="#cb11-265" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-266"><a href="#cb11-266" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(cross)) {</span>
<span id="cb11-267"><a href="#cb11-267" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-268"><a href="#cb11-268" aria-hidden="true" tabindex="-1"></a>    crossLab <span class="ot">&lt;-</span> <span class="st">"Cross reference:"</span></span>
<span id="cb11-269"><a href="#cb11-269" aria-hidden="true" tabindex="-1"></a>    cross <span class="ot">&lt;-</span> <span class="fu">paste0</span>(cross, <span class="at">collapse =</span> <span class="st">"; "</span>)</span>
<span id="cb11-270"><a href="#cb11-270" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-271"><a href="#cb11-271" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb11-272"><a href="#cb11-272" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-273"><a href="#cb11-273" aria-hidden="true" tabindex="-1"></a>    crossLab <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-274"><a href="#cb11-274" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-275"><a href="#cb11-275" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-276"><a href="#cb11-276" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-277"><a href="#cb11-277" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(source)) {</span>
<span id="cb11-278"><a href="#cb11-278" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-279"><a href="#cb11-279" aria-hidden="true" tabindex="-1"></a>    sourceLab <span class="ot">&lt;-</span> <span class="st">"Source:"</span></span>
<span id="cb11-280"><a href="#cb11-280" aria-hidden="true" tabindex="-1"></a>    source <span class="ot">&lt;-</span> knitr<span class="sc">::</span><span class="fu">asis_output</span>(<span class="fu">paste0</span>(source, <span class="at">collapse =</span> <span class="st">"; "</span>))</span>
<span id="cb11-281"><a href="#cb11-281" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-282"><a href="#cb11-282" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb11-283"><a href="#cb11-283" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-284"><a href="#cb11-284" aria-hidden="true" tabindex="-1"></a>    sourceLab <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-285"><a href="#cb11-285" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-286"><a href="#cb11-286" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-287"><a href="#cb11-287" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-288"><a href="#cb11-288" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(note)) {</span>
<span id="cb11-289"><a href="#cb11-289" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-290"><a href="#cb11-290" aria-hidden="true" tabindex="-1"></a>    <span class="co">#generalTitel &lt;- "Note:"</span></span>
<span id="cb11-291"><a href="#cb11-291" aria-hidden="true" tabindex="-1"></a>    noteLab <span class="ot">&lt;-</span> <span class="st">"Note:"</span></span>
<span id="cb11-292"><a href="#cb11-292" aria-hidden="true" tabindex="-1"></a>    note <span class="ot">&lt;-</span> <span class="fu">paste0</span>(note, <span class="at">collapse =</span> <span class="st">"; "</span>)</span>
<span id="cb11-293"><a href="#cb11-293" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-294"><a href="#cb11-294" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb11-295"><a href="#cb11-295" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-296"><a href="#cb11-296" aria-hidden="true" tabindex="-1"></a>    <span class="co">#generalTitel &lt;- ""</span></span>
<span id="cb11-297"><a href="#cb11-297" aria-hidden="true" tabindex="-1"></a>    noteLab <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-298"><a href="#cb11-298" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-299"><a href="#cb11-299" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-300"><a href="#cb11-300" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-301"><a href="#cb11-301" aria-hidden="true" tabindex="-1"></a>  tempTab <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb11-302"><a href="#cb11-302" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Col1"</span> <span class="ot">=</span> <span class="fu">c</span>(namDes,</span>
<span id="cb11-303"><a href="#cb11-303" aria-hidden="true" tabindex="-1"></a>               questLab,</span>
<span id="cb11-304"><a href="#cb11-304" aria-hidden="true" tabindex="-1"></a>               promptLab,</span>
<span id="cb11-305"><a href="#cb11-305" aria-hidden="true" tabindex="-1"></a>               responseLab,</span>
<span id="cb11-306"><a href="#cb11-306" aria-hidden="true" tabindex="-1"></a>               crossLab,</span>
<span id="cb11-307"><a href="#cb11-307" aria-hidden="true" tabindex="-1"></a>               sourceLab,</span>
<span id="cb11-308"><a href="#cb11-308" aria-hidden="true" tabindex="-1"></a>               noteLab,</span>
<span id="cb11-309"><a href="#cb11-309" aria-hidden="true" tabindex="-1"></a>               <span class="st">""</span>,</span>
<span id="cb11-310"><a href="#cb11-310" aria-hidden="true" tabindex="-1"></a>               itemLab),</span>
<span id="cb11-311"><a href="#cb11-311" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Col2"</span> <span class="ot">=</span> <span class="fu">c</span>(name,</span>
<span id="cb11-312"><a href="#cb11-312" aria-hidden="true" tabindex="-1"></a>               questionaire,</span>
<span id="cb11-313"><a href="#cb11-313" aria-hidden="true" tabindex="-1"></a>               prompt,</span>
<span id="cb11-314"><a href="#cb11-314" aria-hidden="true" tabindex="-1"></a>               response,</span>
<span id="cb11-315"><a href="#cb11-315" aria-hidden="true" tabindex="-1"></a>               cross,</span>
<span id="cb11-316"><a href="#cb11-316" aria-hidden="true" tabindex="-1"></a>               source,</span>
<span id="cb11-317"><a href="#cb11-317" aria-hidden="true" tabindex="-1"></a>               note,</span>
<span id="cb11-318"><a href="#cb11-318" aria-hidden="true" tabindex="-1"></a>               <span class="st">""</span>,</span>
<span id="cb11-319"><a href="#cb11-319" aria-hidden="true" tabindex="-1"></a>               itemword)</span>
<span id="cb11-320"><a href="#cb11-320" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-321"><a href="#cb11-321" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-322"><a href="#cb11-322" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(tempTab,</span>
<span id="cb11-323"><a href="#cb11-323" aria-hidden="true" tabindex="-1"></a>               <span class="at">col.names =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-324"><a href="#cb11-324" aria-hidden="true" tabindex="-1"></a>               <span class="at">align =</span> <span class="st">"l"</span></span>
<span id="cb11-325"><a href="#cb11-325" aria-hidden="true" tabindex="-1"></a>               ,<span class="at">booktabs =</span> <span class="cn">TRUE</span></span>
<span id="cb11-326"><a href="#cb11-326" aria-hidden="true" tabindex="-1"></a>               ) <span class="sc">|&gt;</span></span>
<span id="cb11-327"><a href="#cb11-327" aria-hidden="true" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(</span>
<span id="cb11-328"><a href="#cb11-328" aria-hidden="true" tabindex="-1"></a>      <span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-329"><a href="#cb11-329" aria-hidden="true" tabindex="-1"></a>      <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"responsive"</span>)</span>
<span id="cb11-330"><a href="#cb11-330" aria-hidden="true" tabindex="-1"></a>      , <span class="at">latex_options =</span> <span class="st">"HOLD_position"</span></span>
<span id="cb11-331"><a href="#cb11-331" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb11-332"><a href="#cb11-332" aria-hidden="true" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">column_spec</span>(<span class="at">column =</span> <span class="dv">1</span>, <span class="at">width =</span> <span class="st">"12em"</span>)</span>
<span id="cb11-333"><a href="#cb11-333" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-334"><a href="#cb11-334" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-335"><a href="#cb11-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-336"><a href="#cb11-336" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-337"><a href="#cb11-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-338"><a href="#cb11-338" aria-hidden="true" tabindex="-1"></a>An example execution.</span>
<span id="cb11-339"><a href="#cb11-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-342"><a href="#cb11-342" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-343"><a href="#cb11-343" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-demo-table-function</span></span>
<span id="cb11-344"><a href="#cb11-344" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb11-345"><a href="#cb11-345" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Variable: gender"</span></span>
<span id="cb11-346"><a href="#cb11-346" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: asis</span></span>
<span id="cb11-347"><a href="#cb11-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-348"><a href="#cb11-348" aria-hidden="true" tabindex="-1"></a><span class="fu">varOverview</span>(<span class="at">name =</span> <span class="st">"gender"</span>,</span>
<span id="cb11-349"><a href="#cb11-349" aria-hidden="true" tabindex="-1"></a>            <span class="at">prompt =</span> <span class="st">"The question in the questionaire..."</span>,</span>
<span id="cb11-350"><a href="#cb11-350" aria-hidden="true" tabindex="-1"></a>            <span class="at">response =</span> <span class="fu">c</span>(<span class="st">"0 = male"</span>,</span>
<span id="cb11-351"><a href="#cb11-351" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"1 = female"</span>,</span>
<span id="cb11-352"><a href="#cb11-352" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"2 = divers"</span>),</span>
<span id="cb11-353"><a href="#cb11-353" aria-hidden="true" tabindex="-1"></a>            <span class="at">cross =</span> <span class="fu">c</span>(<span class="st">"A study"</span>, <span class="st">"Another study"</span>),</span>
<span id="cb11-354"><a href="#cb11-354" aria-hidden="true" tabindex="-1"></a>            <span class="at">source =</span> <span class="st">"@Kunter2002"</span>,</span>
<span id="cb11-355"><a href="#cb11-355" aria-hidden="true" tabindex="-1"></a>            <span class="at">note =</span> <span class="st">"Here is room for some notes"</span>)</span>
<span id="cb11-356"><a href="#cb11-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-357"><a href="#cb11-357" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-358"><a href="#cb11-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-359"><a href="#cb11-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-360"><a href="#cb11-360" aria-hidden="true" tabindex="-1"></a>::: {.callout-note}</span>
<span id="cb11-361"><a href="#cb11-361" aria-hidden="true" tabindex="-1"></a>The reference is not rendered correctly. This is a known bug: see here: <span class="ot">&lt;https://github.com/quarto-dev/quarto-cli/issues/3340&gt;</span> and will be hopefully solved in the next release.</span>
<span id="cb11-362"><a href="#cb11-362" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-363"><a href="#cb11-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-364"><a href="#cb11-364" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Continuous variables</span></span>
<span id="cb11-365"><a href="#cb11-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-366"><a href="#cb11-366" aria-hidden="true" tabindex="-1"></a>The <span class="in">`contVar`</span> function is based on the <span class="in">`describe`</span> function from the <span class="in">`psych`</span> package <span class="co">[</span><span class="ot">@R-psych</span><span class="co">]</span> and has the following arguments:</span>
<span id="cb11-367"><a href="#cb11-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-368"><a href="#cb11-368" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`variable`</span>: This should be a character or a character vector (name of variable)</span>
<span id="cb11-369"><a href="#cb11-369" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`data`</span>: The data frame</span>
<span id="cb11-370"><a href="#cb11-370" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`which.stat`</span>: Which statistics should be calculated? Default is: <span class="in">`N`</span>, <span class="in">`Mean`</span>, <span class="in">`SD`</span>, <span class="in">`Min`</span>, <span class="in">`Max`</span>. Because the function is based on the <span class="in">`describe`</span> function from <span class="in">`psych`</span> package, you can also request: <span class="in">`trimmed mean`</span>, <span class="in">`median`</span>, <span class="in">`mad`</span>, <span class="in">`skew`</span>, <span class="in">`kurtosis`</span>, <span class="in">`standard error`</span>.</span>
<span id="cb11-371"><a href="#cb11-371" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`table`</span>: logical. Default is <span class="in">`TRUE`</span>. Then the output is printed as a table using the <span class="in">`kbl`</span> function from the <span class="in">`kableExtra`</span> package <span class="co">[</span><span class="ot">@R-kableExtra</span><span class="co">]</span>. If set to false, the output is printed as a <span class="in">`data.frame`</span>.</span>
<span id="cb11-372"><a href="#cb11-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-373"><a href="#cb11-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-376"><a href="#cb11-376" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-377"><a href="#cb11-377" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: contVar-function</span></span>
<span id="cb11-378"><a href="#cb11-378" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb11-379"><a href="#cb11-379" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb11-380"><a href="#cb11-380" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show/hide function"</span></span>
<span id="cb11-381"><a href="#cb11-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-382"><a href="#cb11-382" aria-hidden="true" tabindex="-1"></a>contVar <span class="ot">&lt;-</span> <span class="cf">function</span> ( variable,</span>
<span id="cb11-383"><a href="#cb11-383" aria-hidden="true" tabindex="-1"></a>                      data,</span>
<span id="cb11-384"><a href="#cb11-384" aria-hidden="true" tabindex="-1"></a>                      <span class="at">which.stat =</span> <span class="fu">c</span>(<span class="st">"N"</span>,</span>
<span id="cb11-385"><a href="#cb11-385" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Mean"</span>, <span class="st">"SD"</span>,</span>
<span id="cb11-386"><a href="#cb11-386" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Min"</span>, <span class="st">"Max"</span>),</span>
<span id="cb11-387"><a href="#cb11-387" aria-hidden="true" tabindex="-1"></a>                      <span class="at">table =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb11-388"><a href="#cb11-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-389"><a href="#cb11-389" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-390"><a href="#cb11-390" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-391"><a href="#cb11-391" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate descriptives</span></span>
<span id="cb11-392"><a href="#cb11-392" aria-hidden="true" tabindex="-1"></a>  tempDescr <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(</span>
<span id="cb11-393"><a href="#cb11-393" aria-hidden="true" tabindex="-1"></a>    psych<span class="sc">::</span><span class="fu">describe</span>(</span>
<span id="cb11-394"><a href="#cb11-394" aria-hidden="true" tabindex="-1"></a>      data[,variable]</span>
<span id="cb11-395"><a href="#cb11-395" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb11-396"><a href="#cb11-396" aria-hidden="true" tabindex="-1"></a>    )[<span class="fu">tolower</span>(which.stat)]</span>
<span id="cb11-397"><a href="#cb11-397" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-398"><a href="#cb11-398" aria-hidden="true" tabindex="-1"></a>  tempDescr<span class="sc">$</span>varNam <span class="ot">&lt;-</span> variable</span>
<span id="cb11-399"><a href="#cb11-399" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames</span>(tempDescr) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-400"><a href="#cb11-400" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-401"><a href="#cb11-401" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-402"><a href="#cb11-402" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate missing in %</span></span>
<span id="cb11-403"><a href="#cb11-403" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( <span class="fu">length</span>(variable) <span class="sc">==</span> <span class="dv">1</span> ) {</span>
<span id="cb11-404"><a href="#cb11-404" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-405"><a href="#cb11-405" aria-hidden="true" tabindex="-1"></a>    missDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">mean</span>(<span class="fu">is.na</span>(data[,variable]))<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb11-406"><a href="#cb11-406" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-407"><a href="#cb11-407" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb11-408"><a href="#cb11-408" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-409"><a href="#cb11-409" aria-hidden="true" tabindex="-1"></a>    missDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">colMeans</span>(<span class="fu">is.na</span>(data[,variable]))<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb11-410"><a href="#cb11-410" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-411"><a href="#cb11-411" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-412"><a href="#cb11-412" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-413"><a href="#cb11-413" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(missDF) <span class="ot">&lt;-</span> <span class="st">"miss"</span></span>
<span id="cb11-414"><a href="#cb11-414" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-415"><a href="#cb11-415" aria-hidden="true" tabindex="-1"></a>  tempDescr<span class="sc">$</span>miss <span class="ot">&lt;-</span> <span class="fu">paste0</span>(</span>
<span id="cb11-416"><a href="#cb11-416" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sprintf</span>(missDF<span class="sc">$</span>miss,</span>
<span id="cb11-417"><a href="#cb11-417" aria-hidden="true" tabindex="-1"></a>            <span class="at">fmt =</span> <span class="st">'%#.1f'</span>),</span>
<span id="cb11-418"><a href="#cb11-418" aria-hidden="true" tabindex="-1"></a>    <span class="st">"%"</span>)</span>
<span id="cb11-419"><a href="#cb11-419" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-420"><a href="#cb11-420" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-421"><a href="#cb11-421" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( table <span class="sc">==</span> <span class="cn">TRUE</span> ) {</span>
<span id="cb11-422"><a href="#cb11-422" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-423"><a href="#cb11-423" aria-hidden="true" tabindex="-1"></a>    tempTab <span class="ot">&lt;-</span> kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb11-424"><a href="#cb11-424" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> tempDescr[,<span class="fu">c</span>(<span class="st">"varNam"</span>,</span>
<span id="cb11-425"><a href="#cb11-425" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">tolower</span>(which.stat),</span>
<span id="cb11-426"><a href="#cb11-426" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"miss"</span>)],</span>
<span id="cb11-427"><a href="#cb11-427" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Variable"</span>, which.stat, <span class="st">"Miss."</span>),</span>
<span id="cb11-428"><a href="#cb11-428" aria-hidden="true" tabindex="-1"></a>      <span class="at">row.names =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-429"><a href="#cb11-429" aria-hidden="true" tabindex="-1"></a>      <span class="at">digits =</span> <span class="dv">2</span>,</span>
<span id="cb11-430"><a href="#cb11-430" aria-hidden="true" tabindex="-1"></a>      <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="fu">rep</span>(<span class="st">"c"</span>,<span class="fu">length</span>(which.stat)), <span class="st">"c"</span>)</span>
<span id="cb11-431"><a href="#cb11-431" aria-hidden="true" tabindex="-1"></a>      ,<span class="at">booktabs =</span> <span class="cn">TRUE</span></span>
<span id="cb11-432"><a href="#cb11-432" aria-hidden="true" tabindex="-1"></a>      <span class="co">#,format = "html"</span></span>
<span id="cb11-433"><a href="#cb11-433" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb11-434"><a href="#cb11-434" aria-hidden="true" tabindex="-1"></a>      kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(</span>
<span id="cb11-435"><a href="#cb11-435" aria-hidden="true" tabindex="-1"></a>        <span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-436"><a href="#cb11-436" aria-hidden="true" tabindex="-1"></a>        <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"responsive"</span>)</span>
<span id="cb11-437"><a href="#cb11-437" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">latex_options =</span> <span class="st">"HOLD_position"</span></span>
<span id="cb11-438"><a href="#cb11-438" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb11-439"><a href="#cb11-439" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-440"><a href="#cb11-440" aria-hidden="true" tabindex="-1"></a>    tempOut <span class="ot">&lt;-</span> tempTab</span>
<span id="cb11-441"><a href="#cb11-441" aria-hidden="true" tabindex="-1"></a>    tempOut</span>
<span id="cb11-442"><a href="#cb11-442" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-443"><a href="#cb11-443" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb11-444"><a href="#cb11-444" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-445"><a href="#cb11-445" aria-hidden="true" tabindex="-1"></a>    tempOut <span class="ot">&lt;-</span> tempDescr[,<span class="fu">c</span>(<span class="st">"varNam"</span>,</span>
<span id="cb11-446"><a href="#cb11-446" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">tolower</span>(which.stat),</span>
<span id="cb11-447"><a href="#cb11-447" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"miss"</span>)]</span>
<span id="cb11-448"><a href="#cb11-448" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-449"><a href="#cb11-449" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(tempOut)</span>
<span id="cb11-450"><a href="#cb11-450" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-451"><a href="#cb11-451" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-452"><a href="#cb11-452" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-453"><a href="#cb11-453" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-454"><a href="#cb11-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-455"><a href="#cb11-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-456"><a href="#cb11-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-457"><a href="#cb11-457" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-458"><a href="#cb11-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-459"><a href="#cb11-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-460"><a href="#cb11-460" aria-hidden="true" tabindex="-1"></a>An example execution.</span>
<span id="cb11-461"><a href="#cb11-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-464"><a href="#cb11-464" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-465"><a href="#cb11-465" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-demo-contVar-function</span></span>
<span id="cb11-466"><a href="#cb11-466" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb11-467"><a href="#cb11-467" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Variable: age"</span></span>
<span id="cb11-468"><a href="#cb11-468" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-subcap: ["Overview", "Calculated statistics"]</span></span>
<span id="cb11-469"><a href="#cb11-469" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: asis</span></span>
<span id="cb11-470"><a href="#cb11-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-471"><a href="#cb11-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-472"><a href="#cb11-472" aria-hidden="true" tabindex="-1"></a><span class="fu">varOverview</span>(<span class="at">name =</span> <span class="st">"age"</span>,</span>
<span id="cb11-473"><a href="#cb11-473" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">"variable"</span>,</span>
<span id="cb11-474"><a href="#cb11-474" aria-hidden="true" tabindex="-1"></a>            <span class="at">questionaire =</span> <span class="st">"Student"</span>,</span>
<span id="cb11-475"><a href="#cb11-475" aria-hidden="true" tabindex="-1"></a>            <span class="at">prompt =</span> <span class="st">"How old are you?"</span>,</span>
<span id="cb11-476"><a href="#cb11-476" aria-hidden="true" tabindex="-1"></a>            <span class="at">response =</span> <span class="st">"open"</span>,</span>
<span id="cb11-477"><a href="#cb11-477" aria-hidden="true" tabindex="-1"></a>            <span class="at">cross =</span> <span class="st">"not applicable"</span>,</span>
<span id="cb11-478"><a href="#cb11-478" aria-hidden="true" tabindex="-1"></a>            <span class="at">source =</span> <span class="st">"not applicable"</span>,</span>
<span id="cb11-479"><a href="#cb11-479" aria-hidden="true" tabindex="-1"></a>            <span class="at">note =</span> <span class="st">""</span>)</span>
<span id="cb11-480"><a href="#cb11-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-481"><a href="#cb11-481" aria-hidden="true" tabindex="-1"></a><span class="fu">contVar</span>(<span class="at">variable =</span> <span class="st">"age"</span>, <span class="at">data =</span> exDat)</span>
<span id="cb11-482"><a href="#cb11-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-483"><a href="#cb11-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-484"><a href="#cb11-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-485"><a href="#cb11-485" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-486"><a href="#cb11-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-487"><a href="#cb11-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-488"><a href="#cb11-488" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Categorical variables</span></span>
<span id="cb11-489"><a href="#cb11-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-490"><a href="#cb11-490" aria-hidden="true" tabindex="-1"></a>The <span class="in">`catVar`</span> function is based on the <span class="in">`table`</span> function from R <span class="co">[</span><span class="ot">@R-base</span><span class="co">]</span> and has the following arguments:</span>
<span id="cb11-491"><a href="#cb11-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-492"><a href="#cb11-492" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`variable`</span>: This should be a character or a character vector (name of variable)</span>
<span id="cb11-493"><a href="#cb11-493" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`data`</span>: The data frame</span>
<span id="cb11-494"><a href="#cb11-494" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`table`</span>: logical. Default is <span class="in">`TRUE`</span>. Then the output is printed as a table using the <span class="in">`kbl`</span> function from the <span class="in">`kableExtra`</span> package <span class="co">[</span><span class="ot">@R-kableExtra</span><span class="co">]</span>. If set to false, the output is printed as a <span class="in">`data.frame`</span>.</span>
<span id="cb11-495"><a href="#cb11-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-498"><a href="#cb11-498" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-499"><a href="#cb11-499" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: catVar-function</span></span>
<span id="cb11-500"><a href="#cb11-500" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb11-501"><a href="#cb11-501" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb11-502"><a href="#cb11-502" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show/hide function"</span></span>
<span id="cb11-503"><a href="#cb11-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-504"><a href="#cb11-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-505"><a href="#cb11-505" aria-hidden="true" tabindex="-1"></a>catVar <span class="ot">&lt;-</span> <span class="cf">function</span> ( variable,</span>
<span id="cb11-506"><a href="#cb11-506" aria-hidden="true" tabindex="-1"></a>                     data,</span>
<span id="cb11-507"><a href="#cb11-507" aria-hidden="true" tabindex="-1"></a>                     <span class="at">table =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb11-508"><a href="#cb11-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-509"><a href="#cb11-509" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-510"><a href="#cb11-510" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate freq. as function</span></span>
<span id="cb11-511"><a href="#cb11-511" aria-hidden="true" tabindex="-1"></a>  calcFreq <span class="ot">&lt;-</span> <span class="cf">function</span> ( variable, data) {</span>
<span id="cb11-512"><a href="#cb11-512" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-513"><a href="#cb11-513" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calc abs and rel freq.</span></span>
<span id="cb11-514"><a href="#cb11-514" aria-hidden="true" tabindex="-1"></a>    tempFreq <span class="ot">&lt;-</span> <span class="fu">data.frame</span>( <span class="at">abs =</span> <span class="fu">table</span>(data[,variable],</span>
<span id="cb11-515"><a href="#cb11-515" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">useNA =</span> <span class="st">"always"</span>))</span>
<span id="cb11-516"><a href="#cb11-516" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-517"><a href="#cb11-517" aria-hidden="true" tabindex="-1"></a>    tempFreq<span class="sc">$</span>rel <span class="ot">&lt;-</span> <span class="fu">table</span>(data[,variable],</span>
<span id="cb11-518"><a href="#cb11-518" aria-hidden="true" tabindex="-1"></a>                          <span class="at">useNA =</span> <span class="st">"always"</span>)<span class="sc">/</span><span class="fu">length</span>(data[,variable])<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb11-519"><a href="#cb11-519" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-520"><a href="#cb11-520" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(tempFreq) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"var"</span>,</span>
<span id="cb11-521"><a href="#cb11-521" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Absolute"</span>,</span>
<span id="cb11-522"><a href="#cb11-522" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Relative"</span>)</span>
<span id="cb11-523"><a href="#cb11-523" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-524"><a href="#cb11-524" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate sum</span></span>
<span id="cb11-525"><a href="#cb11-525" aria-hidden="true" tabindex="-1"></a>    tempFreq <span class="ot">&lt;-</span> <span class="fu">rbind</span>(tempFreq,</span>
<span id="cb11-526"><a href="#cb11-526" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">data.frame</span>(<span class="at">var =</span> <span class="st">"Sum"</span>,</span>
<span id="cb11-527"><a href="#cb11-527" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">t</span>(<span class="fu">colSums</span>(tempFreq[<span class="sc">!</span><span class="fu">is.na</span>(tempFreq<span class="sc">$</span>var),<span class="sc">-</span><span class="dv">1</span>])))</span>
<span id="cb11-528"><a href="#cb11-528" aria-hidden="true" tabindex="-1"></a>                      )</span>
<span id="cb11-529"><a href="#cb11-529" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-530"><a href="#cb11-530" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-531"><a href="#cb11-531" aria-hidden="true" tabindex="-1"></a>    <span class="co"># cosmetics</span></span>
<span id="cb11-532"><a href="#cb11-532" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-533"><a href="#cb11-533" aria-hidden="true" tabindex="-1"></a>    tempFreq<span class="sc">$</span>Relative <span class="ot">&lt;-</span> <span class="fu">paste0</span>(</span>
<span id="cb11-534"><a href="#cb11-534" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sprintf</span>(tempFreq<span class="sc">$</span>Relative,</span>
<span id="cb11-535"><a href="#cb11-535" aria-hidden="true" tabindex="-1"></a>              <span class="at">fmt =</span> <span class="st">'%#.1f'</span>),</span>
<span id="cb11-536"><a href="#cb11-536" aria-hidden="true" tabindex="-1"></a>      <span class="st">"%"</span>)</span>
<span id="cb11-537"><a href="#cb11-537" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-538"><a href="#cb11-538" aria-hidden="true" tabindex="-1"></a>    tempTab <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(tempFreq[,<span class="sc">-</span><span class="dv">1</span>]))</span>
<span id="cb11-539"><a href="#cb11-539" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(tempTab) <span class="ot">&lt;-</span> tempFreq[,<span class="dv">1</span>]</span>
<span id="cb11-540"><a href="#cb11-540" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(tempTab)[<span class="fu">is.na</span>(<span class="fu">colnames</span>(tempTab))] <span class="ot">&lt;-</span> <span class="st">"Miss"</span></span>
<span id="cb11-541"><a href="#cb11-541" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-542"><a href="#cb11-542" aria-hidden="true" tabindex="-1"></a>    tempTab <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(</span>
<span id="cb11-543"><a href="#cb11-543" aria-hidden="true" tabindex="-1"></a>      <span class="fu">t</span>(<span class="fu">sapply</span>(<span class="fu">colnames</span>(tempTab),</span>
<span id="cb11-544"><a href="#cb11-544" aria-hidden="true" tabindex="-1"></a>               <span class="cf">function</span>(x) <span class="fu">paste0</span>(tempTab[<span class="dv">1</span>,x],</span>
<span id="cb11-545"><a href="#cb11-545" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">" ("</span>,</span>
<span id="cb11-546"><a href="#cb11-546" aria-hidden="true" tabindex="-1"></a>                                  tempTab[<span class="dv">2</span>,x], <span class="st">")"</span>),</span>
<span id="cb11-547"><a href="#cb11-547" aria-hidden="true" tabindex="-1"></a>               <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-548"><a href="#cb11-548" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb11-549"><a href="#cb11-549" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb11-550"><a href="#cb11-550" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-551"><a href="#cb11-551" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(tempTab)</span>
<span id="cb11-552"><a href="#cb11-552" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-553"><a href="#cb11-553" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-554"><a href="#cb11-554" aria-hidden="true" tabindex="-1"></a>  tempFreq <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">rbindlist</span>(</span>
<span id="cb11-555"><a href="#cb11-555" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sapply</span>(variable,</span>
<span id="cb11-556"><a href="#cb11-556" aria-hidden="true" tabindex="-1"></a>           <span class="cf">function</span>(x) </span>
<span id="cb11-557"><a href="#cb11-557" aria-hidden="true" tabindex="-1"></a>             <span class="fu">calcFreq</span>(<span class="at">variable =</span> x, <span class="at">data =</span> data),</span>
<span id="cb11-558"><a href="#cb11-558" aria-hidden="true" tabindex="-1"></a>           <span class="at">simplify =</span> <span class="cn">FALSE</span>),</span>
<span id="cb11-559"><a href="#cb11-559" aria-hidden="true" tabindex="-1"></a>    <span class="at">idcol =</span> <span class="st">"Variable"</span>, <span class="at">use.names =</span> T, <span class="at">fill =</span> T)</span>
<span id="cb11-560"><a href="#cb11-560" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-561"><a href="#cb11-561" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get colnames to sort</span></span>
<span id="cb11-562"><a href="#cb11-562" aria-hidden="true" tabindex="-1"></a>  colToSort <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Variable"</span>, <span class="fu">colnames</span>(tempFreq)[<span class="sc">!</span><span class="fu">colnames</span>(tempFreq) <span class="sc">%in%</span> </span>
<span id="cb11-563"><a href="#cb11-563" aria-hidden="true" tabindex="-1"></a>                                                  <span class="fu">c</span>(<span class="st">"Variable"</span>,</span>
<span id="cb11-564"><a href="#cb11-564" aria-hidden="true" tabindex="-1"></a>                                                    <span class="st">"Miss"</span>,</span>
<span id="cb11-565"><a href="#cb11-565" aria-hidden="true" tabindex="-1"></a>                                                    <span class="st">"Sum"</span></span>
<span id="cb11-566"><a href="#cb11-566" aria-hidden="true" tabindex="-1"></a>                                                    <span class="co">#"Sum (miss)"</span></span>
<span id="cb11-567"><a href="#cb11-567" aria-hidden="true" tabindex="-1"></a>                                                    )],</span>
<span id="cb11-568"><a href="#cb11-568" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Sum"</span>,</span>
<span id="cb11-569"><a href="#cb11-569" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Miss"</span></span>
<span id="cb11-570"><a href="#cb11-570" aria-hidden="true" tabindex="-1"></a>                 <span class="co">#"Sum (miss)",</span></span>
<span id="cb11-571"><a href="#cb11-571" aria-hidden="true" tabindex="-1"></a>                 )</span>
<span id="cb11-572"><a href="#cb11-572" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-573"><a href="#cb11-573" aria-hidden="true" tabindex="-1"></a>  tempFreq <span class="ot">&lt;-</span> tempFreq[,..colToSort]</span>
<span id="cb11-574"><a href="#cb11-574" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-575"><a href="#cb11-575" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-576"><a href="#cb11-576" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( table <span class="sc">==</span> <span class="cn">TRUE</span> ) {</span>
<span id="cb11-577"><a href="#cb11-577" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-578"><a href="#cb11-578" aria-hidden="true" tabindex="-1"></a>    tempTab <span class="ot">&lt;-</span> kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb11-579"><a href="#cb11-579" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> tempFreq,</span>
<span id="cb11-580"><a href="#cb11-580" aria-hidden="true" tabindex="-1"></a>      <span class="at">align =</span> <span class="st">"c"</span></span>
<span id="cb11-581"><a href="#cb11-581" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb11-582"><a href="#cb11-582" aria-hidden="true" tabindex="-1"></a>      kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(</span>
<span id="cb11-583"><a href="#cb11-583" aria-hidden="true" tabindex="-1"></a>        <span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-584"><a href="#cb11-584" aria-hidden="true" tabindex="-1"></a>        <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"responsive"</span>)</span>
<span id="cb11-585"><a href="#cb11-585" aria-hidden="true" tabindex="-1"></a>        <span class="co">#,latex_options = "HOLD_position"</span></span>
<span id="cb11-586"><a href="#cb11-586" aria-hidden="true" tabindex="-1"></a>        ) </span>
<span id="cb11-587"><a href="#cb11-587" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-588"><a href="#cb11-588" aria-hidden="true" tabindex="-1"></a>    tempOut <span class="ot">&lt;-</span> tempTab</span>
<span id="cb11-589"><a href="#cb11-589" aria-hidden="true" tabindex="-1"></a>    tempOut</span>
<span id="cb11-590"><a href="#cb11-590" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-591"><a href="#cb11-591" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb11-592"><a href="#cb11-592" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-593"><a href="#cb11-593" aria-hidden="true" tabindex="-1"></a>    tempOut <span class="ot">&lt;-</span> tempFreq[,..colToSort]</span>
<span id="cb11-594"><a href="#cb11-594" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-595"><a href="#cb11-595" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(tempOut)</span>
<span id="cb11-596"><a href="#cb11-596" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-597"><a href="#cb11-597" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-598"><a href="#cb11-598" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-599"><a href="#cb11-599" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-600"><a href="#cb11-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-601"><a href="#cb11-601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-602"><a href="#cb11-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-603"><a href="#cb11-603" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-604"><a href="#cb11-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-605"><a href="#cb11-605" aria-hidden="true" tabindex="-1"></a>An example execution.</span>
<span id="cb11-606"><a href="#cb11-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-609"><a href="#cb11-609" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-610"><a href="#cb11-610" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-edu</span></span>
<span id="cb11-611"><a href="#cb11-611" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb11-612"><a href="#cb11-612" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Variable: Education"</span></span>
<span id="cb11-613"><a href="#cb11-613" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-subcap:</span></span>
<span id="cb11-614"><a href="#cb11-614" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Overview"</span></span>
<span id="cb11-615"><a href="#cb11-615" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Calculated statistics"</span></span>
<span id="cb11-616"><a href="#cb11-616" aria-hidden="true" tabindex="-1"></a><span class="co">#| results: asis</span></span>
<span id="cb11-617"><a href="#cb11-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-618"><a href="#cb11-618" aria-hidden="true" tabindex="-1"></a><span class="fu">varOverview</span>(<span class="at">name =</span> <span class="st">"edu"</span>,</span>
<span id="cb11-619"><a href="#cb11-619" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">"variable"</span>,</span>
<span id="cb11-620"><a href="#cb11-620" aria-hidden="true" tabindex="-1"></a>            <span class="at">questionaire =</span> <span class="st">"Parent"</span>,</span>
<span id="cb11-621"><a href="#cb11-621" aria-hidden="true" tabindex="-1"></a>            <span class="at">prompt =</span> <span class="st">"Welchen Schulabschluss haben Sie? Bitte geben Sie *nur* Ihren höchsten Abschluss an."</span>,</span>
<span id="cb11-622"><a href="#cb11-622" aria-hidden="true" tabindex="-1"></a>            <span class="at">response =</span> <span class="fu">c</span>(</span>
<span id="cb11-623"><a href="#cb11-623" aria-hidden="true" tabindex="-1"></a>              <span class="st">"0 = Kein Schulabschluss"</span>,</span>
<span id="cb11-624"><a href="#cb11-624" aria-hidden="true" tabindex="-1"></a>              <span class="st">"1 = Abschluss einer Sonderschule/Foerderschule"</span>,</span>
<span id="cb11-625"><a href="#cb11-625" aria-hidden="true" tabindex="-1"></a>              <span class="st">"2 = einer Polytechnischen Oberschule nach der 8. Klasse"</span>, </span>
<span id="cb11-626"><a href="#cb11-626" aria-hidden="true" tabindex="-1"></a>              <span class="st">"3 = Hauptschulabschluss/ Volksschulabschluss"</span>,</span>
<span id="cb11-627"><a href="#cb11-627" aria-hidden="true" tabindex="-1"></a>              <span class="st">"4 = ..."</span>),</span>
<span id="cb11-628"><a href="#cb11-628" aria-hidden="true" tabindex="-1"></a>            <span class="at">cross =</span> <span class="st">"NEPS"</span>,</span>
<span id="cb11-629"><a href="#cb11-629" aria-hidden="true" tabindex="-1"></a>            <span class="at">source =</span> <span class="st">"@Kunter2002"</span>,</span>
<span id="cb11-630"><a href="#cb11-630" aria-hidden="true" tabindex="-1"></a>            <span class="at">note =</span> <span class="st">""</span>)</span>
<span id="cb11-631"><a href="#cb11-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-632"><a href="#cb11-632" aria-hidden="true" tabindex="-1"></a><span class="fu">catVar</span>(<span class="at">variable =</span> <span class="fu">c</span>(<span class="st">"edu"</span>),</span>
<span id="cb11-633"><a href="#cb11-633" aria-hidden="true" tabindex="-1"></a>       <span class="at">data =</span> exDat)</span>
<span id="cb11-634"><a href="#cb11-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-635"><a href="#cb11-635" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-636"><a href="#cb11-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-637"><a href="#cb11-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-638"><a href="#cb11-638" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Scale score</span></span>
<span id="cb11-639"><a href="#cb11-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-640"><a href="#cb11-640" aria-hidden="true" tabindex="-1"></a>The <span class="in">`scaleScore`</span> function is based on the <span class="in">`alpha`</span> function from the <span class="in">`psych`</span> package <span class="co">[</span><span class="ot">@R-psych</span><span class="co">]</span> and has the following arguments:</span>
<span id="cb11-641"><a href="#cb11-641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-642"><a href="#cb11-642" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`items`</span>: This should be a character vector (name of items) or a named list</span>
<span id="cb11-643"><a href="#cb11-643" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`data`</span>: The data frame</span>
<span id="cb11-644"><a href="#cb11-644" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`recItems`</span>: Numeric vector of the reversed worded items. </span>
<span id="cb11-645"><a href="#cb11-645" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`recode`</span>: logical. Default is <span class="in">`FALSE`</span>. If <span class="in">`TRUE`</span> the items in <span class="in">`recItems`</span> will be recoded.</span>
<span id="cb11-646"><a href="#cb11-646" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`which.stat`</span>: Which statistics should be calculated? Default is: <span class="in">`N`</span>, <span class="in">`Mean`</span>, <span class="in">`SD`</span>, <span class="in">`Min`</span>, <span class="in">`Max`</span>. Because the function is based on the <span class="in">`describe`</span> function from <span class="in">`psych`</span> package, you can also request: <span class="in">`trimmed mean`</span>, <span class="in">`median`</span>, <span class="in">`mad`</span>, <span class="in">`skew`</span>, <span class="in">`kurtosis`</span>, <span class="in">`standard error`</span>.</span>
<span id="cb11-647"><a href="#cb11-647" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`table`</span>: logical. Default is <span class="in">`TRUE`</span>. Then the output is printed as a table using the <span class="in">`kbl`</span> function from the <span class="in">`kableExtra`</span> package <span class="co">[</span><span class="ot">@R-kableExtra</span><span class="co">]</span>. If set to false, the scale score (and if requested the recoded items) are returned.</span>
<span id="cb11-648"><a href="#cb11-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-649"><a href="#cb11-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-650"><a href="#cb11-650" aria-hidden="true" tabindex="-1"></a>::: {.callout-important}</span>
<span id="cb11-651"><a href="#cb11-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-652"><a href="#cb11-652" aria-hidden="true" tabindex="-1"></a>The scale score is built based on only valid items (i.e., <span class="in">`na.rm = FALSE`</span> argument of the <span class="in">`rowSums`</span> function). This means if one item has missing value, no score is computed.</span>
<span id="cb11-653"><a href="#cb11-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-654"><a href="#cb11-654" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-655"><a href="#cb11-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-658"><a href="#cb11-658" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-659"><a href="#cb11-659" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: scales-function</span></span>
<span id="cb11-660"><a href="#cb11-660" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb11-661"><a href="#cb11-661" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb11-662"><a href="#cb11-662" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb11-663"><a href="#cb11-663" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show/hide function"</span></span>
<span id="cb11-664"><a href="#cb11-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-665"><a href="#cb11-665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-666"><a href="#cb11-666" aria-hidden="true" tabindex="-1"></a>scaleScore <span class="ot">&lt;-</span> <span class="cf">function</span> ( items,</span>
<span id="cb11-667"><a href="#cb11-667" aria-hidden="true" tabindex="-1"></a>                         <span class="at">scaleNameShort =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-668"><a href="#cb11-668" aria-hidden="true" tabindex="-1"></a>                         <span class="at">recItems =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-669"><a href="#cb11-669" aria-hidden="true" tabindex="-1"></a>                         <span class="at">recode =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-670"><a href="#cb11-670" aria-hidden="true" tabindex="-1"></a>                         data,</span>
<span id="cb11-671"><a href="#cb11-671" aria-hidden="true" tabindex="-1"></a>                         <span class="at">which.stat =</span> <span class="fu">c</span>(<span class="st">"N"</span>,</span>
<span id="cb11-672"><a href="#cb11-672" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"Mean"</span>, <span class="st">"SD"</span>,</span>
<span id="cb11-673"><a href="#cb11-673" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"Min"</span>, <span class="st">"Max"</span>),</span>
<span id="cb11-674"><a href="#cb11-674" aria-hidden="true" tabindex="-1"></a>                         <span class="at">table =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb11-675"><a href="#cb11-675" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-676"><a href="#cb11-676" aria-hidden="true" tabindex="-1"></a>  <span class="co"># name check</span></span>
<span id="cb11-677"><a href="#cb11-677" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-678"><a href="#cb11-678" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(scaleNameShort)) {</span>
<span id="cb11-679"><a href="#cb11-679" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"please provide the short name of the scale (variable name)"</span>)</span>
<span id="cb11-680"><a href="#cb11-680" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-681"><a href="#cb11-681" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-682"><a href="#cb11-682" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-683"><a href="#cb11-683" aria-hidden="true" tabindex="-1"></a>  <span class="co"># recode check </span></span>
<span id="cb11-684"><a href="#cb11-684" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-685"><a href="#cb11-685" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(recItems) <span class="sc">&amp;</span> recode <span class="sc">==</span> <span class="cn">FALSE</span>) {</span>
<span id="cb11-686"><a href="#cb11-686" aria-hidden="true" tabindex="-1"></a>    <span class="fu">warning</span>(<span class="st">"Are the items already recoded?</span><span class="sc">\n</span><span class="st">If not, you may use the recode argument."</span>)</span>
<span id="cb11-687"><a href="#cb11-687" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-688"><a href="#cb11-688" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-689"><a href="#cb11-689" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(<span class="fu">names</span>(items))) {</span>
<span id="cb11-690"><a href="#cb11-690" aria-hidden="true" tabindex="-1"></a>    items <span class="ot">&lt;-</span> <span class="fu">names</span>(items)</span>
<span id="cb11-691"><a href="#cb11-691" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-692"><a href="#cb11-692" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-693"><a href="#cb11-693" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-694"><a href="#cb11-694" aria-hidden="true" tabindex="-1"></a>  <span class="co"># recode if necessary</span></span>
<span id="cb11-695"><a href="#cb11-695" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( recode <span class="sc">==</span> T ) {</span>
<span id="cb11-696"><a href="#cb11-696" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-697"><a href="#cb11-697" aria-hidden="true" tabindex="-1"></a>    data[,<span class="fu">paste0</span>(items[recItems],<span class="st">"r"</span>)] <span class="ot">&lt;-</span> <span class="fu">sapply</span>(</span>
<span id="cb11-698"><a href="#cb11-698" aria-hidden="true" tabindex="-1"></a>      items[recItems],</span>
<span id="cb11-699"><a href="#cb11-699" aria-hidden="true" tabindex="-1"></a>      <span class="cf">function</span>(x) {</span>
<span id="cb11-700"><a href="#cb11-700" aria-hidden="true" tabindex="-1"></a>        tempRec <span class="ot">&lt;-</span> (<span class="fu">max</span>(data[,x]) <span class="sc">+</span> <span class="fu">min</span>(data[,x])) <span class="sc">-</span> data[,x]</span>
<span id="cb11-701"><a href="#cb11-701" aria-hidden="true" tabindex="-1"></a>        <span class="fu">return</span>(tempRec)</span>
<span id="cb11-702"><a href="#cb11-702" aria-hidden="true" tabindex="-1"></a>      }, <span class="at">simplify =</span> <span class="cn">FALSE</span>)</span>
<span id="cb11-703"><a href="#cb11-703" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-704"><a href="#cb11-704" aria-hidden="true" tabindex="-1"></a>    items[recItems] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(items[recItems],<span class="st">"r"</span>)</span>
<span id="cb11-705"><a href="#cb11-705" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-706"><a href="#cb11-706" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-707"><a href="#cb11-707" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-708"><a href="#cb11-708" aria-hidden="true" tabindex="-1"></a>  <span class="co"># compute sumscore</span></span>
<span id="cb11-709"><a href="#cb11-709" aria-hidden="true" tabindex="-1"></a>  data[,scaleNameShort] <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(data[,items]) <span class="sc">/</span> <span class="fu">length</span>(items)</span>
<span id="cb11-710"><a href="#cb11-710" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-711"><a href="#cb11-711" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate descriptives</span></span>
<span id="cb11-712"><a href="#cb11-712" aria-hidden="true" tabindex="-1"></a>  tempDescr <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(</span>
<span id="cb11-713"><a href="#cb11-713" aria-hidden="true" tabindex="-1"></a>    psych<span class="sc">::</span><span class="fu">describe</span>(</span>
<span id="cb11-714"><a href="#cb11-714" aria-hidden="true" tabindex="-1"></a>      data[,<span class="fu">c</span>(items,scaleNameShort)]</span>
<span id="cb11-715"><a href="#cb11-715" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb11-716"><a href="#cb11-716" aria-hidden="true" tabindex="-1"></a>    )[<span class="fu">tolower</span>(which.stat)]</span>
<span id="cb11-717"><a href="#cb11-717" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-718"><a href="#cb11-718" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate missing in %</span></span>
<span id="cb11-719"><a href="#cb11-719" aria-hidden="true" tabindex="-1"></a>  missDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">colMeans</span>(<span class="fu">is.na</span>(data[,<span class="fu">c</span>(items,scaleNameShort)]))<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb11-720"><a href="#cb11-720" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(missDF) <span class="ot">&lt;-</span> <span class="st">"miss"</span></span>
<span id="cb11-721"><a href="#cb11-721" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-722"><a href="#cb11-722" aria-hidden="true" tabindex="-1"></a>  missDF<span class="sc">$</span>miss <span class="ot">&lt;-</span> <span class="fu">paste0</span>(</span>
<span id="cb11-723"><a href="#cb11-723" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sprintf</span>(missDF<span class="sc">$</span>miss,</span>
<span id="cb11-724"><a href="#cb11-724" aria-hidden="true" tabindex="-1"></a>            <span class="at">fmt =</span> <span class="st">'%#.1f'</span>),</span>
<span id="cb11-725"><a href="#cb11-725" aria-hidden="true" tabindex="-1"></a>    <span class="st">"%"</span>)</span>
<span id="cb11-726"><a href="#cb11-726" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-727"><a href="#cb11-727" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate alpha et al</span></span>
<span id="cb11-728"><a href="#cb11-728" aria-hidden="true" tabindex="-1"></a>  tempAlpha <span class="ot">&lt;-</span> psych<span class="sc">::</span><span class="fu">alpha</span>(</span>
<span id="cb11-729"><a href="#cb11-729" aria-hidden="true" tabindex="-1"></a>    data[,items]</span>
<span id="cb11-730"><a href="#cb11-730" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-731"><a href="#cb11-731" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-732"><a href="#cb11-732" aria-hidden="true" tabindex="-1"></a>  <span class="co"># extract r.cor &amp; r.drop</span></span>
<span id="cb11-733"><a href="#cb11-733" aria-hidden="true" tabindex="-1"></a>  rcordrop <span class="ot">&lt;-</span> tempAlpha<span class="sc">$</span>item.stats[,<span class="fu">c</span>(<span class="st">"r.cor"</span>, <span class="st">"r.drop"</span>)]</span>
<span id="cb11-734"><a href="#cb11-734" aria-hidden="true" tabindex="-1"></a>  alpha <span class="ot">&lt;-</span> <span class="fu">round</span>(tempAlpha<span class="sc">$</span>total<span class="sc">$</span>raw_alpha,<span class="dv">3</span>)</span>
<span id="cb11-735"><a href="#cb11-735" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-736"><a href="#cb11-736" aria-hidden="true" tabindex="-1"></a>  <span class="co"># merge dataframes</span></span>
<span id="cb11-737"><a href="#cb11-737" aria-hidden="true" tabindex="-1"></a>  tempTab <span class="ot">&lt;-</span> <span class="fu">merge</span>(tempDescr, missDF, <span class="at">by =</span> <span class="dv">0</span>, <span class="at">sort =</span> <span class="cn">FALSE</span>) </span>
<span id="cb11-738"><a href="#cb11-738" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames</span>(tempTab) <span class="ot">&lt;-</span> tempTab<span class="sc">$</span>Row.names</span>
<span id="cb11-739"><a href="#cb11-739" aria-hidden="true" tabindex="-1"></a>  tempTab<span class="sc">$</span>Row.names <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-740"><a href="#cb11-740" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-741"><a href="#cb11-741" aria-hidden="true" tabindex="-1"></a>  tempTab <span class="ot">&lt;-</span> <span class="fu">merge</span>(tempTab, rcordrop, <span class="at">by =</span> <span class="dv">0</span>, <span class="at">all.x =</span> T, <span class="at">sort =</span> <span class="cn">FALSE</span>)</span>
<span id="cb11-742"><a href="#cb11-742" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames</span>(tempTab) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-743"><a href="#cb11-743" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-744"><a href="#cb11-744" aria-hidden="true" tabindex="-1"></a>  <span class="co"># make tables</span></span>
<span id="cb11-745"><a href="#cb11-745" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( table <span class="sc">==</span> <span class="cn">TRUE</span> ) {</span>
<span id="cb11-746"><a href="#cb11-746" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-747"><a href="#cb11-747" aria-hidden="true" tabindex="-1"></a>    tempScaleTab <span class="ot">&lt;-</span> kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb11-748"><a href="#cb11-748" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> tempTab,</span>
<span id="cb11-749"><a href="#cb11-749" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Item"</span>, which.stat, <span class="st">"Missing"</span>, <span class="st">"$r_{it}$"</span>, <span class="st">"$r_{drop}$"</span>),</span>
<span id="cb11-750"><a href="#cb11-750" aria-hidden="true" tabindex="-1"></a>      <span class="at">digits =</span> <span class="dv">2</span>,</span>
<span id="cb11-751"><a href="#cb11-751" aria-hidden="true" tabindex="-1"></a>      <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="fu">rep</span>(<span class="st">"c"</span>,<span class="fu">length</span>(which.stat)), <span class="st">"c"</span>, <span class="st">"c"</span>, <span class="st">"c"</span>),</span>
<span id="cb11-752"><a href="#cb11-752" aria-hidden="true" tabindex="-1"></a>      <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-753"><a href="#cb11-753" aria-hidden="true" tabindex="-1"></a>      <span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb11-754"><a href="#cb11-754" aria-hidden="true" tabindex="-1"></a>      <span class="at">escape =</span> <span class="cn">FALSE</span></span>
<span id="cb11-755"><a href="#cb11-755" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb11-756"><a href="#cb11-756" aria-hidden="true" tabindex="-1"></a>      kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(</span>
<span id="cb11-757"><a href="#cb11-757" aria-hidden="true" tabindex="-1"></a>        <span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-758"><a href="#cb11-758" aria-hidden="true" tabindex="-1"></a>        <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"responsive"</span>)</span>
<span id="cb11-759"><a href="#cb11-759" aria-hidden="true" tabindex="-1"></a>        <span class="co">#,latex_options = "HOLD_position"</span></span>
<span id="cb11-760"><a href="#cb11-760" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">|&gt;</span></span>
<span id="cb11-761"><a href="#cb11-761" aria-hidden="true" tabindex="-1"></a>      kableExtra<span class="sc">::</span><span class="fu">footnote</span>(<span class="at">general_title =</span> <span class="st">"Cronbachs $</span><span class="sc">\\\\</span><span class="st">alpha$ = "</span>,</span>
<span id="cb11-762"><a href="#cb11-762" aria-hidden="true" tabindex="-1"></a>                           <span class="at">general =</span> <span class="fu">paste0</span>(alpha),</span>
<span id="cb11-763"><a href="#cb11-763" aria-hidden="true" tabindex="-1"></a>                           <span class="at">footnote_as_chunk =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-764"><a href="#cb11-764" aria-hidden="true" tabindex="-1"></a>                           <span class="at">threeparttable =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-765"><a href="#cb11-765" aria-hidden="true" tabindex="-1"></a>      kableExtra<span class="sc">::</span><span class="fu">row_spec</span>(<span class="at">row =</span> <span class="fu">nrow</span>(tempTab),</span>
<span id="cb11-766"><a href="#cb11-766" aria-hidden="true" tabindex="-1"></a>                           <span class="at">background =</span> <span class="st">"#d3d3d3"</span>)</span>
<span id="cb11-767"><a href="#cb11-767" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-768"><a href="#cb11-768" aria-hidden="true" tabindex="-1"></a>    tempOut <span class="ot">&lt;-</span> tempScaleTab</span>
<span id="cb11-769"><a href="#cb11-769" aria-hidden="true" tabindex="-1"></a>    tempOut</span>
<span id="cb11-770"><a href="#cb11-770" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-771"><a href="#cb11-771" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb11-772"><a href="#cb11-772" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-773"><a href="#cb11-773" aria-hidden="true" tabindex="-1"></a>      tempOut <span class="ot">&lt;-</span> data[,<span class="fu">c</span>(items[recItems], scaleNameShort)]</span>
<span id="cb11-774"><a href="#cb11-774" aria-hidden="true" tabindex="-1"></a>      <span class="fu">print</span>(tempTab)</span>
<span id="cb11-775"><a href="#cb11-775" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-776"><a href="#cb11-776" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(tempOut)</span>
<span id="cb11-777"><a href="#cb11-777" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-778"><a href="#cb11-778" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-779"><a href="#cb11-779" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-780"><a href="#cb11-780" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-781"><a href="#cb11-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-782"><a href="#cb11-782" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-783"><a href="#cb11-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-784"><a href="#cb11-784" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-785"><a href="#cb11-785" aria-hidden="true" tabindex="-1"></a>An example execution.</span>
<span id="cb11-786"><a href="#cb11-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-787"><a href="#cb11-787" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Before executing the function, we create a named list. Item 3 and 4 are reversed worded items.</span>
<span id="cb11-788"><a href="#cb11-788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-791"><a href="#cb11-791" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-792"><a href="#cb11-792" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: named-list-msc</span></span>
<span id="cb11-793"><a href="#cb11-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-794"><a href="#cb11-794" aria-hidden="true" tabindex="-1"></a>mscItems <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"msc1"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Ich bin gut in Mathematik."</span>),</span>
<span id="cb11-795"><a href="#cb11-795" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"msc2"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Ich war in Mathematik immer gut."</span>),</span>
<span id="cb11-796"><a href="#cb11-796" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"msc3"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Ich habe Verständnisschwierigkeiten bei allem, für das man Mathematik braucht."</span>),</span>
<span id="cb11-797"><a href="#cb11-797" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"msc4"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Ich bin bei Aufgaben, die mathematisches Denken</span></span>
<span id="cb11-798"><a href="#cb11-798" aria-hidden="true" tabindex="-1"></a><span class="st">erfordern, nie gut."</span>))</span>
<span id="cb11-799"><a href="#cb11-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-800"><a href="#cb11-800" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-801"><a href="#cb11-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-802"><a href="#cb11-802" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Then we execute the two functions. because the items 3 and 4 are not recoded in the data set, we have to pass the information to the <span class="in">`scaleScore`</span> function.</span>
<span id="cb11-803"><a href="#cb11-803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-806"><a href="#cb11-806" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-807"><a href="#cb11-807" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-msc</span></span>
<span id="cb11-808"><a href="#cb11-808" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb11-809"><a href="#cb11-809" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb11-810"><a href="#cb11-810" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Variable Math Self-concept"</span></span>
<span id="cb11-811"><a href="#cb11-811" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-subcap: ["Overview", "Calculated statistics"]</span></span>
<span id="cb11-812"><a href="#cb11-812" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-813"><a href="#cb11-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-814"><a href="#cb11-814" aria-hidden="true" tabindex="-1"></a><span class="fu">varOverview</span>(<span class="at">name =</span> <span class="st">"Math Self-concept"</span>,</span>
<span id="cb11-815"><a href="#cb11-815" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">"scale"</span>,</span>
<span id="cb11-816"><a href="#cb11-816" aria-hidden="true" tabindex="-1"></a>            <span class="at">itemword =</span> mscItems,</span>
<span id="cb11-817"><a href="#cb11-817" aria-hidden="true" tabindex="-1"></a>            <span class="at">prompt =</span> <span class="st">"Wie sehr treffen die folgenden Aussagen auf Sie zu?"</span>,</span>
<span id="cb11-818"><a href="#cb11-818" aria-hidden="true" tabindex="-1"></a>            <span class="at">response =</span> <span class="fu">c</span>(<span class="st">"1 = trifft überhaupt nicht zu"</span>,</span>
<span id="cb11-819"><a href="#cb11-819" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"2 = trifft eher nicht zu"</span>,</span>
<span id="cb11-820"><a href="#cb11-820" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"3 = trifft eher zu"</span>,</span>
<span id="cb11-821"><a href="#cb11-821" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"4 = trifft völlig zu"</span>),</span>
<span id="cb11-822"><a href="#cb11-822" aria-hidden="true" tabindex="-1"></a>           <span class="at">cross =</span> <span class="st">"TOSCA-R"</span>,</span>
<span id="cb11-823"><a href="#cb11-823" aria-hidden="true" tabindex="-1"></a>           <span class="at">source =</span> <span class="st">""</span>)</span>
<span id="cb11-824"><a href="#cb11-824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-825"><a href="#cb11-825" aria-hidden="true" tabindex="-1"></a><span class="fu">scaleScore</span>(<span class="at">items =</span> <span class="fu">names</span>(mscItems),</span>
<span id="cb11-826"><a href="#cb11-826" aria-hidden="true" tabindex="-1"></a>           <span class="at">scaleNameShort =</span> <span class="st">"msc"</span>,</span>
<span id="cb11-827"><a href="#cb11-827" aria-hidden="true" tabindex="-1"></a>           <span class="at">recItems =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>),</span>
<span id="cb11-828"><a href="#cb11-828" aria-hidden="true" tabindex="-1"></a>           <span class="at">recode =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-829"><a href="#cb11-829" aria-hidden="true" tabindex="-1"></a>           <span class="at">data =</span> exDat,</span>
<span id="cb11-830"><a href="#cb11-830" aria-hidden="true" tabindex="-1"></a>           <span class="at">table =</span> T)</span>
<span id="cb11-831"><a href="#cb11-831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-832"><a href="#cb11-832" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-833"><a href="#cb11-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-834"><a href="#cb11-834" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Clean character variables</span></span>
<span id="cb11-835"><a href="#cb11-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-836"><a href="#cb11-836" aria-hidden="true" tabindex="-1"></a>The <span class="in">`cleanStr`</span> function is designed to clean strings and has the following arguments:</span>
<span id="cb11-837"><a href="#cb11-837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-838"><a href="#cb11-838" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`stringToClean`</span>: This should be a character.</span>
<span id="cb11-839"><a href="#cb11-839" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`pattern`</span>: The pattern which should be replaced. Can be character vector.</span>
<span id="cb11-840"><a href="#cb11-840" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`replacement`</span>: The replacement. A character with length = 1.</span>
<span id="cb11-841"><a href="#cb11-841" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`replaceNA`</span>: logical. Should <span class="in">`NA`</span>s be replaced?</span>
<span id="cb11-842"><a href="#cb11-842" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`replaceNAval`</span>: If <span class="in">`replaceNA`</span> == <span class="in">`TRUE`</span>. The replacement of <span class="in">`NA`</span> values. Default is: <span class="in">`"Unknown"`</span> </span>
<span id="cb11-843"><a href="#cb11-843" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`as.fac`</span>: logical. Output of the function (<span class="in">`character`</span> or <span class="in">`factor`</span>) Default is <span class="in">`FALSE`</span>.</span>
<span id="cb11-844"><a href="#cb11-844" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`print`</span>: logical.</span>
<span id="cb11-845"><a href="#cb11-845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-848"><a href="#cb11-848" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-849"><a href="#cb11-849" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: cleanStr-function</span></span>
<span id="cb11-850"><a href="#cb11-850" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb11-851"><a href="#cb11-851" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb11-852"><a href="#cb11-852" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb11-853"><a href="#cb11-853" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show/hide function"</span></span>
<span id="cb11-854"><a href="#cb11-854" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-855"><a href="#cb11-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-856"><a href="#cb11-856" aria-hidden="true" tabindex="-1"></a>cleanStr <span class="ot">&lt;-</span> <span class="cf">function</span> ( stringToClean, <span class="at">pattern =</span> <span class="cn">NULL</span>, <span class="at">replacement =</span> <span class="st">"Unknown"</span>,</span>
<span id="cb11-857"><a href="#cb11-857" aria-hidden="true" tabindex="-1"></a>                       <span class="at">replaceNA =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-858"><a href="#cb11-858" aria-hidden="true" tabindex="-1"></a>                       <span class="at">replaceNAval =</span> <span class="st">"Unknown"</span>,</span>
<span id="cb11-859"><a href="#cb11-859" aria-hidden="true" tabindex="-1"></a>                       <span class="at">as.fac =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-860"><a href="#cb11-860" aria-hidden="true" tabindex="-1"></a>                       <span class="at">print =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb11-861"><a href="#cb11-861" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-862"><a href="#cb11-862" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( <span class="fu">length</span>(replacement) <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">|</span> <span class="fu">length</span>(replaceNAval) <span class="sc">&gt;</span> <span class="dv">1</span> ) {</span>
<span id="cb11-863"><a href="#cb11-863" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-864"><a href="#cb11-864" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Values can only be replaced by one value. length &gt; 1"</span>)</span>
<span id="cb11-865"><a href="#cb11-865" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-866"><a href="#cb11-866" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-867"><a href="#cb11-867" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-868"><a href="#cb11-868" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( <span class="sc">!</span><span class="fu">is.character</span>(stringToClean) ) {</span>
<span id="cb11-869"><a href="#cb11-869" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-870"><a href="#cb11-870" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"input is no character"</span>)</span>
<span id="cb11-871"><a href="#cb11-871" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-872"><a href="#cb11-872" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb11-873"><a href="#cb11-873" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-874"><a href="#cb11-874" aria-hidden="true" tabindex="-1"></a>    outStr <span class="ot">&lt;-</span> stringToClean</span>
<span id="cb11-875"><a href="#cb11-875" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-876"><a href="#cb11-876" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-877"><a href="#cb11-877" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-878"><a href="#cb11-878" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( replaceNA <span class="sc">==</span> <span class="cn">TRUE</span> ) {</span>
<span id="cb11-879"><a href="#cb11-879" aria-hidden="true" tabindex="-1"></a>    outStr[<span class="fu">is.na</span>(outStr)] <span class="ot">&lt;-</span> replaceNAval</span>
<span id="cb11-880"><a href="#cb11-880" aria-hidden="true" tabindex="-1"></a>    missMess <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"Missing values (NA) are replaced with: '"</span>, replaceNAval, <span class="st">"'"</span>)</span>
<span id="cb11-881"><a href="#cb11-881" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb11-882"><a href="#cb11-882" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-883"><a href="#cb11-883" aria-hidden="true" tabindex="-1"></a>    missMess <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-884"><a href="#cb11-884" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-885"><a href="#cb11-885" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-886"><a href="#cb11-886" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-887"><a href="#cb11-887" aria-hidden="true" tabindex="-1"></a>  outStr[outStr <span class="sc">%in%</span> pattern] <span class="ot">&lt;-</span> replacement</span>
<span id="cb11-888"><a href="#cb11-888" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-889"><a href="#cb11-889" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (print <span class="sc">==</span> <span class="cn">TRUE</span> ) {</span>
<span id="cb11-890"><a href="#cb11-890" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb11-891"><a href="#cb11-891" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Input</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb11-892"><a href="#cb11-892" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>( <span class="fu">table</span>(stringToClean, <span class="at">useNA =</span> <span class="st">"always"</span>) )</span>
<span id="cb11-893"><a href="#cb11-893" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Output</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb11-894"><a href="#cb11-894" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>( <span class="fu">table</span>(outStr, <span class="at">useNA =</span> <span class="st">"always"</span>) )</span>
<span id="cb11-895"><a href="#cb11-895" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-896"><a href="#cb11-896" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">This is what happened:"</span>)</span>
<span id="cb11-897"><a href="#cb11-897" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"The following pattern(s): "</span>,</span>
<span id="cb11-898"><a href="#cb11-898" aria-hidden="true" tabindex="-1"></a>        <span class="fu">paste0</span>(<span class="fu">paste0</span>(pattern, <span class="at">collapse =</span> <span class="st">", "</span>),</span>
<span id="cb11-899"><a href="#cb11-899" aria-hidden="true" tabindex="-1"></a>        <span class="st">"</span><span class="sc">\n</span><span class="st">was/were replaced with: "</span>,</span>
<span id="cb11-900"><a href="#cb11-900" aria-hidden="true" tabindex="-1"></a>        replacement), <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>,</span>
<span id="cb11-901"><a href="#cb11-901" aria-hidden="true" tabindex="-1"></a>        missMess)</span>
<span id="cb11-902"><a href="#cb11-902" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-903"><a href="#cb11-903" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-904"><a href="#cb11-904" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( as.fac <span class="sc">==</span> <span class="cn">FALSE</span> ) {</span>
<span id="cb11-905"><a href="#cb11-905" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-906"><a href="#cb11-906" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(outStr)</span>
<span id="cb11-907"><a href="#cb11-907" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-908"><a href="#cb11-908" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb11-909"><a href="#cb11-909" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-910"><a href="#cb11-910" aria-hidden="true" tabindex="-1"></a>    outFac <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(outStr)</span>
<span id="cb11-911"><a href="#cb11-911" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(outFac)</span>
<span id="cb11-912"><a href="#cb11-912" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-913"><a href="#cb11-913" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-914"><a href="#cb11-914" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-915"><a href="#cb11-915" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-916"><a href="#cb11-916" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-917"><a href="#cb11-917" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-920"><a href="#cb11-920" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-921"><a href="#cb11-921" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: save-functions</span></span>
<span id="cb11-922"><a href="#cb11-922" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-923"><a href="#cb11-923" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb11-924"><a href="#cb11-924" aria-hidden="true" tabindex="-1"></a>scaleManualFunctions <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">varOverview =</span> varOverview,</span>
<span id="cb11-925"><a href="#cb11-925" aria-hidden="true" tabindex="-1"></a>                             <span class="at">catVar =</span> catVar,</span>
<span id="cb11-926"><a href="#cb11-926" aria-hidden="true" tabindex="-1"></a>                             <span class="at">contVar =</span> contVar,</span>
<span id="cb11-927"><a href="#cb11-927" aria-hidden="true" tabindex="-1"></a>                             <span class="at">scaleScore =</span> scaleScore,</span>
<span id="cb11-928"><a href="#cb11-928" aria-hidden="true" tabindex="-1"></a>                             <span class="at">cleanStr =</span> cleanStr</span>
<span id="cb11-929"><a href="#cb11-929" aria-hidden="true" tabindex="-1"></a>                             )</span>
<span id="cb11-930"><a href="#cb11-930" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(scaleManualFunctions,</span>
<span id="cb11-931"><a href="#cb11-931" aria-hidden="true" tabindex="-1"></a>     <span class="at">file =</span> <span class="st">"scaleManualFunctions.Rdata"</span>)</span>
<span id="cb11-932"><a href="#cb11-932" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>