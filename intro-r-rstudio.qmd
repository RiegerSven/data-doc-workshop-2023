# Introduction to R & RStudio

This part gives a short introduction to `R` and `RStudio`.

## What is R & RStudio?

- **R**: `R` is a free software environment for statistical computing and graphics. It compiles and runs on a wide variety of UNIX platforms, Windows and MacOS (see [https://www.r-project.org/](https://www.r-project.org/){target="_blank"}). 

- **R Studio**: Coding environment for `R`, built by [Posit](https://posit.co/){target="_blank"}. 

Some advertisement from the [Posit website](https://posit.co/downloads/){target="_blank"}: 

> Used by millions of people weekly, the RStudio integrated development environment (IDE) is a set of tools built to help you be more productive with R and Python. It includes a console, syntax-highlighting editor that supports direct code execution. It also features tools for plotting, viewing history, debugging and managing your workspace. 

Of course there are other IDEs (e.g., [Visual Studio Code](https://code.visualstudio.com/){target="_blank"}, but if you use `R`, `RStudio` is most likely the way to go.

## How to work with R and RStudio?

::: {.callout-caution collapse="true"}

## Exercise: Open RStudio!

This should look like this, maybe or probably with a different appearance (this is the Dracula theme). You can change this via `Tools > Global Options > Appearance`

![](images/rstudio-panes.PNG)

:::

In `RStudio` there are different panes^[You can customize them: `Tools > Global Options > Pane Layout`]:


### Panes

- **Console**
  - Here you can access `R`
  - E.g., ask `R` what is: `2 + 2`

- **Source/Script**
  - Editor to save scripts

::: {.callout-warning}

You should **never** work directly in the Console, but always use a R-script (e.g., script.R) or *even better* a Quarto document (e.g., script.qmd). It is important to understand and reproduce everything you did.

:::

- **Environment/History/.../Tutorial**
  - Environment: contains all objects that were created or loaded during an R session
  - History:
  - ... e.g., the free and open source distributed version control system [git](https://git-scm.com/){target="_blank"}
  - Tutorial: A tutorial to learn `R` with the `learnr` package [@R-learnr]

- **Files/Plots/Packages/Help/Viewer**
  - Files: is kind of the file manager
  - Plots: shows the generated plots
  - Packages: overview of the (loaded &) installed packages
  - Help: When you ask for help (e.g., regarding a specific function in R: `?mean`) 
  - Viewer: E.g., previewing rendered Quarto documents



### Projects

It is also reasonable to use the **project option**. This means, whenever you start a new project (e.g., a scale-manual), create an `project`: `File > New Project` 

::: {.callout-caution collapse="true"}

## Exercise: Create an project!

1. Choose between:

- **New Directory** (for today)

- Existing Directory

- Version Control (this is recommended, but is beyond the scope of this workshop)

![](images/new-proj-wizz.PNG)

2. Choose a project type (today a `R project` or `Quarto project`)

![](images/project-type.PNG)

3. Provide a short name, set the check mark `Open in new session` and click `Create Project`

![](images/name-rproj.PNG)

:::


## Short introduction to the R programming language

This section gives a (very?) brief introduction to `R` programming language. 

::: {.callout-tip collapse="true"}

## For comprehensive introductions...

or overviews of the language see e.g., 

- [R Manual](https://cran.r-project.org/doc/manuals/r-release/R-intro.html) on the [CRAN](https://cran.r-project.org) website

- [R for Data Science](https://r4ds.had.co.nz/) by Hadley Wickham and Garrett Grolemund

- [Hands-On Programming with R](https://rstudio-education.github.io/hopr/) by Garrett Grolemund

- [Introduction to R](https://stats.oarc.ucla.edu/stat/data/intro_r/intro_r_interactive_flat.html) by the [IDRE Statistical Consulting Group](https://stats.oarc.ucla.edu/ucla/policies/)

- ...

:::



> To understand computations in R, two slogans are helpful:
>
> -   Everything that exists is an object.\
> -   Everything that happens is a function call.
>
> ::: {style="text-align: right;"}
> -- John Chambers (creator of the S programming language)
> :::




### Basics

Before working with `R`, there are a few basics you need to know:

:::: {.columns}

::: {.column width="40%"}

-   `R` is a **case-sensitive** programming language. This means that R distinguishes whether a word is written in upper or lower case

:::

::: {.column width="10%"}
<!-- empty column to create gap -->
:::

::: {.column width="40%"}

```{r}
#| label: case-sense
#| code-fold: false
#| code-line-numbers: false


"name" == "Name"
```

:::

::::


:::: {.columns}

::: {.column width="40%"}

-   **Values** are assigned to objects using `<-`

:::

::: {.column width="10%"}
<!-- empty column to create gap -->
:::

::: {.column width="40%"}

```{r}
#| label: r-assing
#| eval: false
#| code-fold: false
#| code-line-numbers: false
a <- "Hello world!"
```

:::

::::


:::: {.columns}

::: {.column width="40%"}

-   **Arguments** within functions are assigned using `=`

:::

::: {.column width="10%"}
<!-- empty column to create gap -->
:::

::: {.column width="40%"}

```{r}
#| label: r-arg
#| eval: false
#| code-fold: false
df <- data.frame(
  x = 1:4,
  y = 3:6
)
```

:::

::::



### Data Types

The basic data types^[We omitted the `complex` type.] in `R` are depicted in @tbl-data-type-R.

+---------------+-----------------------------------------+-----------------------+
| Type          | Description                             | Value (example)       |
+===============+=========================================+=======================+
| **Numeric**   | Numbers with decimal value or fraction  | `3.7`                 |
+---------------+-----------------------------------------+-----------------------+
| **Integer**   | Counting numbers and their additive     | `2`, `-115`           |
|               | inverses                                |                       |
+---------------+-----------------------------------------+-----------------------+
| **Character** | aka string. Letters enclosed by quotes  | `"Hello World!"`,`"4"`|
|               | in the output.                          |                       |
+---------------+-----------------------------------------+-----------------------+
| **Logical **  | boolean                                 | `TRUE`, `FALSE`       |
+---------------+-----------------------------------------+-----------------------+
| **Factor**    | Categorial data \                       |   \                   |
|               | - *Level:* characteristic value         |   `0`, `1` \          |
|               |             as seen by R  \             |  `male`,`female`      |
|               | - *Label:* designation of the           |                       |
|               |             characteristic attributes   |                       |
+---------------+-----------------------------------------+-----------------------+
| **Special**   | - *Missing values:* unknown cell value  |   `NA` \              |
|               | - *Empty values:* known empty           |   `NULL`              |
|               |                 cell value              |                       |
+---------------+-----------------------------------------+-----------------------+

: Basic data types in R {#tbl-data-type-R}

::: {.callout-caution collapse="true"}
## Exercise: Use the class function to check the data type of an object!



```{r}
#| label: demo-class
x <- 10
class(x)
y <- "Hello World"
class(y)
```

```{r}
#| label: demo-class-del
#| echo: false
rm(x,y)
```


:::

<!--
::: {.callout-note collapse="true"}
## Why might factors be useful?

```{r}
#| label: demo-factor
x <- c(1, 0, 1, 1, 0, 1, 0)
print(x)

fac <- factor(x,
              labels = c('male', 'female'))
print(fac)

levels(fac)
```

```{r}
#| label: demo-factor-del
#| echo: false
rm(x, fac)
```

:::

-->

### Data Structures

`R` has a couple of different data structures^[We omitted [arrays](https://cran.r-project.org/doc/manuals/r-release/R-intro.html#Arrays-and-matrices).] which are briefly described in the following subsections.


#### Vector

:::: {.columns}

::: {.column width="35%"}

-   one-dimensional array\
-   same data type
-   e.g., `c(45, 6, -83, 23, 61)`

:::

::: {.column width="5%"}
<!-- empty column to create gap -->
:::

::: {.column width="60%"}

::: {.callout-tip collapse="true"}
## Tips for handling vectors

Create a vector with the `c` function

```{r}
#| label: demo-vec-0
#| code-fold: false
v <- c(45, 6, -83, 23, 61)
v
```

Or a named vector...

```{r}
#| label: demo-vec-1
#| code-fold: false
vNam <- c(a = 45, b = 6, c = -83, d = 23, e = 61)
vNam
```

Count the amount of items contained in vector

```{r}
#| label: demo-vec-2
#| code-fold: false
length(v)
```

Vector indexing (by position)

```{r}
#| label: demo-vec-3
#| code-fold: false

v[1]
v[-3]
```

Slicing vectors

```{r}
#| label: demo-vec-4
#| code-fold: false
v[3:5]
```

Generate regular sequences using `seq` function

```{r}
#| label: demo-seq-4
#| code-fold: false
seq(from = 0,
    to = 20,
    by = 2)
```
:::

:::

::::

#### Matrix

:::: {.columns}

::: {.column width="35%"}

-   two-dimensional\
-   same data type
-   example see on the [right](#tip-mat)

:::

::: {.column width="5%"}
<!-- empty column to create gap -->
:::

::: {.column width="60%"}

::: {.callout-tip collapse="true"}
## Tips for handling matrices {#tip-mat}

- The `matrix` function creates a matrix from the given set of values

```{r}
#| label: demo-mat-0
#| code-fold: false
m <- matrix(data = c(1, 2, 3, 45, 36, 52),
            nrow = 2,
            ncol = 3,
            byrow = TRUE)
m
```

- Slicing works also on matrices: `m[row , column]`

```{r}
#| label: mat-slice
#| code-fold: false
m[, 1:2]
```

:::

:::

::::

#### List

:::: {.columns}

::: {.column width="35%"}

-   can contain elements of various data types
-   often ordered collection of values
-   one-indexed (indexing starts with 1)
-   e.g., `list("hello", 6, NULL)`

:::

::: {.column width="5%"}
<!-- empty column to create gap -->
:::

::: {.column width="60%"}

::: {.callout-tip collapse="true"}
## Tips for handling lists

Create lists (with different elements, i.e., numbers and letters) with the `list` function

```{r}
#| label: demo-list-0
#| code-fold: false
l1 <- list(1:5)
l2 <- list(letters[1:5])
l3 <- list(LETTERS[1:5])
```

Create a nested list...

```{r}
#| label: demo-list-1
#| code-fold: false
l4 <- list(l1, l2, l3)
```

...or a named (nested) list

```{r}
#| label: demo-list-2
#| code-fold: false
l4Nam <- list("Numbers" = l1,
              "SmallLetters" = l2,
              "CaptialLetters" = l3)
```

Access list or nested list elements

```{r}
#| label: demo-list-3
#| code-fold: false
l4[2]
l4[[2]][3]
```

Unlist the `list` to get vector which contains all the atomic components

```{r}
#| label: demo-list-4
#| code-fold: false
unlist(l1)
unlist(l4)
```

Count amount of items contained in list

```{r}
#| label: demo-list-5
#| code-fold: false
length(l4)
length(unlist(l4))
```
:::

:::

::::

#### Data frame

:::: {.columns}

::: {.column width="35%"}


-   various columns
-   different data types
-   variables = columns
-   observations = rows
-   example see on the [right](#tip-df)

:::

::: {.column width="5%"}
<!-- empty column to create gap -->
:::

::: {.column width="60%"}

::: {.callout-tip collapse="true"}
## Tips for handling dataFrames {#tip-df}

```{r}
#| label: demo-df-0
#| code-fold: false
df <- data.frame(
  id = 1:4,
  age = c(12, 13, 12, 14),
  sex = c(1, 1, 2, 2)
)
df
```

Number of observations

```{r}
#| label: demo-df-1
#| code-fold: false

nrow(df)
```

Show dimension (rows, columns) of dataframe 

```{r}
#| label: demo-df-2
#| code-fold: false

dim(df)
```

Column names

```{r}
#| label: demo-df-3
#| code-fold: false

colnames(df)
```

Show the first two rows of the dataframe

```{r}
#| label: demo-df-4
#| code-fold: false

head(df, 2)
```

Structure of dataframe object

```{r}
#| label: demo-df-5
#| code-fold: false

str(df)
```

Some descriptive statistics using the `summary` function (for more see Section [Descriptive statistics and item analysis](#item-analy-descr)

```{r}
#| label: demo-df-6
#| code-fold: false

summary(df)
```

```{r}
#| label: del-df
#| echo: false
rm(df)
```


:::

:::

::::





